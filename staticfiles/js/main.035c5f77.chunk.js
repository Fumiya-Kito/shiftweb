(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,c){},101:function(e,t,c){},130:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),s=c(32),a=c.n(s),i=(c(100),c(101),c.p,c(147)),j=c(140),l=c(148),o=c(144),d=c(21),b=c(7),u=c(18),h="USER_LOGIN_REQUEST",O="USER_LOGIN_SUCCESS",x="USER_LOGIN_FAIL",m="USER_LOGOUT",p="USER_PROFILE_REQUEST",f="USER_PROFILE_SUCCESS",v="USER_PROFILE_RESET",g={userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,error:!1,loading:!0},y={profile:localStorage.getItem("profile")?JSON.parse(localStorage.getItem("profile")):{},error:!1,loading:!0},_=c(70),C="SHIFT_REQUEST",N="SHIFT_SUCCESS",k="SHIFT_ADD_ITEM",S="SHIFT_REMOVE_ITEM",w="SHIFT_CHANGE_STATUS",I="SHIFT_RESET",L="SHIFT_CHANGE_PERIOD",D=c(51),E=c(44),M=c(35),F=c(52),G=c(53),B={shiftItems:[],isSubmitted:!1,loading:!1,period:[Object(D.a)(Object(E.a)(Object(M.a)(new Date,1))),Object(D.a)(Object(F.a)(Object(M.a)(new Date,1)))],deadline:Object(G.a)(Object(D.a)(Object(F.a)(new Date)),10)},A=c(0),H=function(e,t){var c=r.a.createContext(),s=r.a.createContext();return[function(r){var a=r.children,i=Object(n.useReducer)(e,t),j=Object(b.a)(i,2),l=j[0],o=j[1];return Object(A.jsx)(s.Provider,{value:o,children:Object(A.jsx)(c.Provider,{value:l,children:a})})},function(){return r.a.useContext(c)},function(){return r.a.useContext(s)}]},T=H((function(e,t){switch(t.type){case h:return{loading:!0};case O:return{loading:!1,userInfo:t.payload};case x:return{loading:!1,error:!0};case m:return{userInfo:null};default:return e}}),g),R=Object(b.a)(T,3),q=R[0],z=R[1],U=R[2],P=H((function(e,t){switch(t.type){case p:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case f:return Object(u.a)(Object(u.a)({},e),{},{loading:!1,profile:t.payload});case"USER_PROFILE_FAIL":return Object(u.a)(Object(u.a)({},e),{},{loading:!1,error:!0});case v:return y;default:return e}}),y),Y=Object(b.a)(P,3),J=Y[0],W=Y[1],Q=Y[2],V=H((function(e,t){switch(t.type){case C:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case N:return Object(u.a)(Object(u.a)({},e),{},{loading:!1});case k:var c=t.payload,n=e.shiftItems.find((function(e){return e.date===c.date}));return n?Object(u.a)(Object(u.a)({},e),{},{loading:!1,shiftItems:e.shiftItems.map((function(e){return e.date===n.date?c:e}))}):Object(u.a)(Object(u.a)({},e),{},{loading:!1,shiftItems:[].concat(Object(_.a)(e.shiftItems),[c])});case S:return Object(u.a)(Object(u.a)({},e),{},{loading:!1,shiftItems:e.shiftItems.filter((function(e){return e.date!==t.payload}))});case w:return Object(u.a)(Object(u.a)({},e),{},{loading:!1,isSubmitted:t.payload});case L:return Object(u.a)(Object(u.a)({},e),{},{loading:!1,deadline:t.payload});case I:return B;default:return e}}),B),K=Object(b.a)(V,3),X=K[0],Z=K[1],$=K[2],ee=c(11),te=c.n(ee),ce=c(14),ne=c(13),re=c.n(ne),se=function(){var e=Object(ce.a)(te.a.mark((function e(t,c,n){var r,s,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:h}),r={headers:{"Content-type":"application/json"}},e.next=5,re.a.post("/api/users/login/",{username:t,password:c},r);case 5:s=e.sent,a=s.data,n({type:O,payload:a}),localStorage.setItem("userInfo",JSON.stringify(a)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),n({type:x,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,c,n){return e.apply(this,arguments)}}(),ae=function(){var e=Object(ce.a)(te.a.mark((function e(t,c){var n,r,s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:p}),n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=4,re.a.get("/api/users/profile/",n);case 4:r=e.sent,s=r.data,t({type:f,payload:s}),localStorage.setItem("profile",JSON.stringify(s));case 8:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}();var ie=function(){var e=z(),t=U(),c=e.userInfo,n=$(),r=W().profile,s=Q(),a=function(){!function(e,t){localStorage.removeItem("userInfo"),localStorage.removeItem("profile"),e({type:m})}(t),n({type:I}),s({type:v})};return Object(A.jsx)("header",{children:Object(A.jsx)(i.a,{bg:"dark",variant:"dark",collapseOnSelect:!0,children:Object(A.jsxs)(j.a,{children:[Object(A.jsx)(i.a.Brand,{children:"Shift Web"}),Object(A.jsxs)(l.a,{className:"mr-auto p-1",children:[c&&Object(A.jsx)(o.a,{title:r.name,id:"username",className:"px-4",children:"demo@email.com"===c.email?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(d.LinkContainer,{to:"/demo/profile",children:Object(A.jsx)(o.a.Item,{children:"\u30db\u30fc\u30e0"})}),Object(A.jsx)(d.LinkContainer,{to:"/login",children:Object(A.jsx)(o.a.Item,{onClick:a,children:"\u30ed\u30b0\u30a2\u30a6\u30c8"})})]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(d.LinkContainer,{to:"/profile",children:Object(A.jsx)(o.a.Item,{children:"\u30db\u30fc\u30e0"})}),Object(A.jsx)(o.a.Item,{onClick:a,children:"\u30ed\u30b0\u30a2\u30a6\u30c8"})]})}),c&&c.isAdmin&&Object(A.jsxs)(o.a,{title:"\u7ba1\u7406\u8005\u6a29\u9650",id:"adminmenu",children:[Object(A.jsx)(d.LinkContainer,{to:"/admin/userlist",children:Object(A.jsx)(o.a.Item,{children:"\u30e6\u30fc\u30b6\u30fc\u7ba1\u7406"})}),Object(A.jsx)(d.LinkContainer,{to:"/admin/shiftlist",children:Object(A.jsx)(o.a.Item,{children:"\u30b7\u30d5\u30c8\u7ba1\u7406"})})]})]})]})})})},je=c(15),le=c(20);var oe=function(e){var t=e.history;return z().userInfo,Object(n.useEffect)((function(){t.push("/login")}),[]),Object(A.jsx)(A.Fragment,{children:Object(A.jsx)("h1",{children:"Home Page"})})},de=c(146),be=c(94),ue=c(141),he=c(95);var Oe=function(e){var t=e.children;return Object(A.jsx)(j.a,{children:Object(A.jsx)(ue.a,{className:"justify-content-md-center",children:Object(A.jsx)(he.a,{xs:12,md:6,children:t})})})},xe=c(149);var me=function(e){var t=e.variant,c=e.children;return Object(A.jsx)(xe.a,{variant:t,children:c})};var pe=function(e){var t=e.history,c=e.location,r=Object(n.useState)(""),s=Object(b.a)(r,2),a=s[0],i=s[1],j=Object(n.useState)(""),l=Object(b.a)(j,2),o=l[0],d=l[1],u=Object(n.useState)(""),h=Object(b.a)(u,2),O=h[0],x=h[1],m=Object(n.useState)(""),p=Object(b.a)(m,2),f=p[0],v=p[1],g=Object(n.useState)(""),y=Object(b.a)(g,2),_=y[0],C=y[1],N=z(),k=U(),S=N.userInfo,w=c.search?c.search.split("=")[1]:"/";Object(n.useEffect)((function(){S&&t.push("/")}),[t,S]);var I=function(){var e=Object(ce.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),O===f){e.next=5;break}C("\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u4e00\u81f4\u3057\u307e\u305b\u3093"),e.next=8;break;case 5:return e.next=7,re.a.post("/api/users/register/",{name:a,email:o,password:O});case 7:se(o,O,k);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)(Oe,{children:[Object(A.jsx)("h1",{children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u767b\u9332"}),_&&Object(A.jsx)(me,{variant:"danger",children:_}),Object(A.jsxs)(de.a,{onSubmit:I,children:[Object(A.jsxs)(de.a.Group,{controlId:"name",className:"mb-4",children:[Object(A.jsx)(de.a.Label,{children:"\u540d\u524d"}),Object(A.jsx)(de.a.Control,{required:!0,type:"name",placeholder:"\u540d\u524d\u3092\u5165\u529b",value:a,onChange:function(e){return i(e.target.value)}})]}),Object(A.jsxs)(de.a.Group,{controlId:"email",className:"mb-4",children:[Object(A.jsx)(de.a.Label,{children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),Object(A.jsx)(de.a.Control,{required:!0,type:"email",placeholder:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b",value:o,onChange:function(e){return d(e.target.value)}})]}),Object(A.jsxs)(de.a.Group,{controlId:"password",className:"mb-4",children:[Object(A.jsx)(de.a.Label,{children:"\u30d1\u30b9\u30ef\u30fc\u30c9"}),Object(A.jsx)(de.a.Control,{required:!0,type:"password",placeholder:"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b",value:O,onChange:function(e){return x(e.target.value)}})]}),Object(A.jsxs)(de.a.Group,{controlId:"passwordConfirm",className:"mb-4",children:[Object(A.jsx)(de.a.Label,{children:"\u30d1\u30b9\u30ef\u30fc\u30c9\u78ba\u8a8d"}),Object(A.jsx)(de.a.Control,{required:!0,type:"password",placeholder:"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u3082\u3046\u4e00\u5ea6\u5165\u529b",value:f,onChange:function(e){return v(e.target.value)}})]}),Object(A.jsx)(be.a,{type:"submit",variant:"primary",children:"\u767b\u9332"})]}),Object(A.jsx)(ue.a,{className:"py-3",children:Object(A.jsxs)(he.a,{children:["\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u304a\u6301\u3061\u65b9\uff1a",Object(A.jsxs)(je.Link,{to:w?"/login?redirect=".concat(w):"/login",children:[" "," \u30ed\u30b0\u30a4\u30f3"]})]})})]})},fe=c(142);var ve=function(){return Object(A.jsx)(fe.a,{animation:"border",role:"status",style:{height:"50px",width:"50px",margin:"auto",display:"block"}})};var ge=function(e){var t=e.history,c=e.location,r=z(),s=U(),a=r.userInfo,i=r.error,j=Object(n.useState)(""),l=Object(b.a)(j,2),o=l[0],d=l[1],u=Object(n.useState)(""),h=Object(b.a)(u,2),O=h[0],x=h[1],m=c.search?c.search.split("=")[1]:"/";return Object(n.useEffect)((function(){a&&t.push("/profile")}),[t,a]),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(Oe,{children:[Object(A.jsx)("h1",{children:"\u30ed\u30b0\u30a4\u30f3"}),i&&Object(A.jsx)(me,{variant:"danger",children:"'\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u304b\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u9593\u9055\u3063\u3066\u3044\u307e\u3059'"}),Object(A.jsxs)(de.a,{onSubmit:function(e){e.preventDefault(),se(o,O,s)},children:[Object(A.jsxs)(de.a.Group,{controlId:"email",children:[Object(A.jsx)(de.a.Label,{className:"mb-0",children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),Object(A.jsx)(de.a.Control,{type:"email",placeholder:"e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b",value:o,onChange:function(e){return d(e.target.value)}})]}),Object(A.jsxs)(de.a.Group,{controlId:"password",children:[Object(A.jsx)(de.a.Label,{className:"mb-0 mt-3",children:"\u30d1\u30b9\u30ef\u30fc\u30c9"}),Object(A.jsx)(de.a.Control,{type:"password",placeholder:"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b",value:O,onChange:function(e){return x(e.target.value)}})]}),Object(A.jsx)(be.a,{type:"submit",variant:"primary",className:"mt-2 mb-3",children:"\u30ed\u30b0\u30a4\u30f3"})]}),Object(A.jsx)(ue.a,{className:"py-3",children:Object(A.jsxs)(he.a,{children:["\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u304a\u6301\u3061\u3067\u306a\u3044\u65b9\uff1a",Object(A.jsxs)(je.Link,{to:m?"/register?redirect=".concat(m):"/register",children:[" "," \u767b\u9332"]})]})})]}),Object(A.jsx)(Oe,{children:Object(A.jsxs)(me,{variant:"info",children:["\u30c7\u30e2\u306f\u3053\u3061\u3089\uff08\u30e6\u30fc\u30b6\u30fc\u306e\u767b\u9332\u30fb\u30ed\u30b0\u30a4\u30f3\u3092\u305b\u305a\u306b\u4f53\u9a13\u3067\u304d\u307e\u3059\uff09",Object(A.jsx)("br",{}),Object(A.jsx)(je.Link,{to:"/demo/profile",children:"Demo\u30e6\u30fc\u30b6\u30fc\u3067\u30ed\u30b0\u30a4\u30f3"})]})})]})},ye=c(143),_e=function(e,t,c,n,r,s){e({type:k,payload:{date:t,isWork:c,startTime:n,endTime:r,isAllDay:s}})},Ce=function(e,t){e({type:S,payload:t})},Ne=function(e,t){e({type:w,payload:t})},ke=function(e,t){e({type:L,payload:t})},Se=c(61);var we=function(e){var t=e.history,c=Object(n.useState)([]),r=Object(b.a)(c,2),s=r[0],a=r[1],i=z().userInfo,l=Q(),o=W(),u=o.profile,h=o.loading,O=Z(),x=O.period,m=O.deadline,p=O.isSubmitted,f=O.loading,v=$(),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)};return Object(n.useEffect)((function(){if(i){var e=function(){var e=Object(ce.a)(te.a.mark((function e(){var t,n,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v({type:C}),e.next=3,re.a.get("/api/shifts/myshifts/",c);case 3:for(t=e.sent,n=t.data,a(n),r=0;r<n.length;r++)n[r].period_start===g(x[0])&&Ne(v,!0);v({type:N});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();ae(l,i);var c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(i.token)}};e()}else t.push("/login")}),[t,i]),Object(A.jsxs)("div",{children:[Object(A.jsxs)("h1",{children:["\u3088\u3046\u3053\u305d ",u.name," \u3055\u3093"]}),Object(A.jsxs)(ue.a,{className:"py-3",children:[f?Object(A.jsx)(ve,{}):Object(A.jsxs)(he.a,{md:5,sm:12,className:"py-2",children:[Object(A.jsx)("h4",{children:"\u30b7\u30d5\u30c8\u63d0\u51fa"}),Object(A.jsxs)(j.a,{className:"border",children:[Object(A.jsx)(d.LinkContainer,{to:"/shifts/submit",className:"d-grid gap-2 my-3 p-1",children:Object(A.jsxs)(be.a,{size:"lg",variant:"primary",disabled:p||new Date>m,children:["\u4eca\u6708\u5206\u306f\u3053\u3061\u3089\u304b\u3089 ",Object(A.jsxs)("p",{className:"m-0",children:[g(x[0])," ~ ",g(x[1])]})]})}),Object(A.jsxs)("p",{className:"my-0 py-0",children:["\u63d0\u51fa\u72b6\u614b\uff1a ",p?Object(A.jsx)("i",{style:{color:"blue"},children:"\u63d0\u51fa\u6e08\u307f"}):Object(A.jsx)("i",{style:{color:"red"},children:"\u672a\u63d0\u51fa"})]}),Object(A.jsxs)("p",{className:"my-0 py-0",children:["\u63d0\u51fa\u671f\u9650\uff1a ",String(Object(Se.a)(m,"yyyy-MM-dd' 'HH:mm"))," \u307e\u3067"]}),!p&&new Date>m&&Object(A.jsx)(me,{variant:"danger",children:"\u671f\u9650\u5185\u306b\u63d0\u51fa\u3067\u304d\u3066\u3044\u307e\u305b\u3093 \u2192 \u62c5\u5f53\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u306b\u9023\u7d61\uff01"})]}),Object(A.jsx)("h4",{className:"mt-5",children:"\u30b7\u30d5\u30c8\u7ba1\u7406"}),0===s.length?Object(A.jsx)(me,{variant:"info",children:"\u30b7\u30d5\u30c8\u304c\u3042\u308a\u307e\u305b\u3093"}):Object(A.jsxs)(ye.a,{striped:!0,hover:!0,responsive:!0,className:"table-sm border",children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"ID"}),Object(A.jsx)("th",{children:"PERIOD"}),Object(A.jsx)("th",{children:"STATUS"}),Object(A.jsx)("th",{})]})}),Object(A.jsx)("tbody",{children:s.map((function(e){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:e._id}),Object(A.jsxs)("td",{children:[e.period_start," "," "," ~ "," ",e.period_end]}),Object(A.jsx)("td",{children:e.is_confirmed?"\u78ba\u5b9a":"\u672a\u78ba\u5b9a"}),Object(A.jsx)("td",{children:e.is_confirmed?Object(A.jsx)(d.LinkContainer,{to:"/shifts/confirm/".concat(e._id),children:Object(A.jsx)(be.a,{className:"btn-sm",variant:"outline-primary",children:"\u8a73\u7d30"})}):Object(A.jsx)(d.LinkContainer,{to:"/shifts/update/".concat(e._id),children:Object(A.jsx)(be.a,{className:"btn-sm",variant:"outline-info",children:"\u66f4\u65b0"})})})]},e._id)}))})]})]}),h?Object(A.jsx)(ve,{}):Object(A.jsxs)(he.a,{md:7,sm:12,className:"py-2",children:[Object(A.jsxs)(ue.a,{children:[Object(A.jsx)(he.a,{md:10,sm:10,xs:10,children:Object(A.jsx)("h4",{children:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb"})}),Object(A.jsx)(he.a,{md:2,sm:2,xs:2,className:"m-0 px-0 pb-2 text-center",children:Object(A.jsx)(d.LinkContainer,{to:"/update/profile",children:Object(A.jsx)(be.a,{variant:"outline-secondary",className:"btn-sm",children:"\u7de8\u96c6"})})})]}),Object(A.jsxs)(ye.a,{striped:!0,hover:!0,responsive:!0,size:"sm",className:"border",children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Key"}),Object(A.jsx)("th",{children:"Value"}),Object(A.jsx)("th",{children:"Remarks"})]})}),Object(A.jsxs)("tbody",{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:"ID"}),Object(A.jsx)("td",{children:u._id}),Object(A.jsx)("td",{})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:"\u540d\u524d"}),Object(A.jsx)("td",{children:u.name}),Object(A.jsx)("td",{})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:"\u8077\u52d9"}),Object(A.jsx)("td",{children:u.duty}),Object(A.jsx)("td",{})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:"\u30bb\u30af\u30b7\u30e7\u30f3"}),Object(A.jsx)("td",{children:u.section}),Object(A.jsx)("td",{})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:"\u96c7\u7528\u5f62\u614b"}),Object(A.jsx)("td",{children:u.employment_status}),Object(A.jsx)("td",{})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:"\u7814\u4fee\u4e2d"}),Object(A.jsx)("td",{children:u.is_rookie?"\u7814\u4fee\u4e2d":"\u4fee\u4e86"}),Object(A.jsx)("td",{})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:"\u30aa\u30fc\u30d7\u30f3"}),Object(A.jsx)("td",{children:u.is_open_staff?"\u53ef":"\u4e0d\u53ef"}),Object(A.jsx)("td",{})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:"10\u6642\u7de0\u3081"}),Object(A.jsx)("td",{children:u.is_pre_close_staff?"\u53ef":"\u4e0d\u53ef"}),Object(A.jsx)("td",{})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:"\u7de0\u3081"}),Object(A.jsx)("td",{children:u.is_close_staff?"\u53ef":"\u4e0d\u53ef"}),Object(A.jsx)("td",{})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:" \u696d\u52d9\u958b\u59cb\u6642\u9593"}),Object(A.jsxs)("td",{children:[" ",u.start_default.substring(0,5)]}),Object(A.jsx)("td",{children:"\u63d0\u51fa\u6642\u306b\u81ea\u52d5\u5165\u529b\u3055\u308c\u308b\u5024\u3067\u3059"})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:" \u696d\u52d9\u7d42\u4e86\u6642\u9593"}),Object(A.jsxs)("td",{children:[" ",u.end_default.substring(0,5)]}),Object(A.jsx)("td",{children:"\u63d0\u51fa\u6642\u306b\u81ea\u52d5\u5165\u529b\u3055\u308c\u308b\u5024\u3067\u3059"})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:" \u9031\u9593\u5e0c\u671b\u30b7\u30d5\u30c8\u56de\u6570"}),Object(A.jsxs)("td",{children:[" \u9031",u.desired_times_per_week]}),Object(A.jsx)("td",{children:"\u30b7\u30d5\u30c8\u4f5c\u6210\u306e\u53c2\u8003\u306b\u3057\u307e\u3059"})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:" \u5e0c\u671b\u5c31\u52b4\u6642\u9593"}),Object(A.jsxs)("td",{children:[" ",u.desired_working_time,"h"]}),Object(A.jsx)("td",{children:"\u30b7\u30d5\u30c8\u4f5c\u6210\u306e\u53c2\u8003\u306b\u3057\u307e\u3059"})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:" \u901a\u52e4\u65b9\u6cd5"}),Object(A.jsxs)("td",{children:[" ",u.commute]}),Object(A.jsx)("td",{})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:" \u6700\u5bc4\u308a\u99c5"}),Object(A.jsxs)("td",{children:[" ",u.station]}),Object(A.jsx)("td",{children:" \u6700\u77ed\u7d4c\u8def\u304c\u4ea4\u901a\u8cbb\u652f\u7d66\u984d\u3067\u3059"})]})]})]})]})]})]})},Ie=c(145);var Le=function(e){var t=e.history,c=Object(n.useState)(""),r=Object(b.a)(c,2),s=r[0],a=r[1],i=Object(n.useState)(""),j=Object(b.a)(i,2),l=j[0],o=j[1],d=Object(n.useState)(""),u=Object(b.a)(d,2),h=u[0],O=u[1],x=Object(n.useState)(""),m=Object(b.a)(x,2),p=m[0],f=m[1],v=Object(n.useState)(!1),g=Object(b.a)(v,2),y=g[0],_=g[1],C=Object(n.useState)(!1),N=Object(b.a)(C,2),k=N[0],S=N[1],w=Object(n.useState)(!1),I=Object(b.a)(w,2),L=I[0],D=I[1],E=Object(n.useState)(!1),M=Object(b.a)(E,2),F=M[0],G=M[1],B=Object(n.useState)(""),H=Object(b.a)(B,2),T=H[0],R=H[1],q=Object(n.useState)(""),U=Object(b.a)(q,2),P=U[0],Y=U[1],J=Object(n.useState)(""),V=Object(b.a)(J,2),K=V[0],X=V[1],Z=Object(n.useState)(""),$=Object(b.a)(Z,2),ee=$[0],ne=$[1],se=Object(n.useState)(""),ie=Object(b.a)(se,2),le=ie[0],oe=ie[1],ue=Object(n.useState)(""),he=Object(b.a)(ue,2),xe=he[0],me=he[1],pe=Object(n.useState)(!0),fe=Object(b.a)(pe,2),ge=fe[0],ye=fe[1],_e=z().userInfo,Ce=Q(),Ne=W().profile;Object(n.useEffect)((function(){_e?(ae(Ce,_e),Ne.name?a(Ne.name):a("\u540d\u524d\u304c\u3042\u308a\u307e\u305b\u3093"),Ne.duty?o(Ne.duty):o(""),Ne.employment_status?f(Ne.employment_status):f(""),Ne.section?O(Ne.section):O(""),Ne.is_rookie?_(Ne.is_rookie):_(!1),Ne.is_open_staff?S(Ne.is_open_staff):S(!1),Ne.is_pre_close_staff?D(Ne.is_pre_close_staff):D(!1),Ne.is_close_staff?G(Ne.is_close_staff):G(!1),Ne.start_default?R(Ne.start_default):R(""),Ne.end_default?Y(Ne.end_default):Y(""),Ne.desired_times_per_week?X(Ne.desired_times_per_week):X(0),Ne.desired_working_time?ne(Ne.desired_working_time):ne(0),Ne.commute?oe(Ne.commute):oe(""),Ne.station?me(Ne.station):me(""),ye(!1)):t.push("/login"),T||P||(R(Ne.start_default.substring(0,5)),Y(Ne.end_default.substring(0,5)))}),[t,_e]);var ke=function(){var e=Object(ce.a)(te.a.mark((function e(c){var n,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),console.log("submitted!"),console.log(s,l,h,y,k,L,F,T,P,K,ee,le,xe),!window.confirm("\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u306e\u66f4\u65b0\u3092\u3057\u307e\u3059\u304b\uff1f")){e.next=10;break}return n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(_e.token)}},e.next=7,re.a.put("/api/users/update/profile/",{name:s,duty:l,employment:p,section:h,isRookie:y,isOpen:k,isPreClose:L,isClose:F,startDefault:T,endDefault:P,weeklyTime:K,workTime:ee,commute:le,station:xe},n);case 7:r=e.sent,r.data,t.push("/profile");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(je.Link,{to:"/profile",className:"btn my-2",style:{background:"#999999"},children:"\uff1c \u623b\u308b"}),ge?Object(A.jsx)(ve,{}):Object(A.jsx)(Oe,{children:Object(A.jsxs)(de.a,{onSubmit:ke,className:"border p-3",children:[Object(A.jsxs)(de.a.Group,{controlId:"name",children:[Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u540d\u524d"}),Object(A.jsx)(de.a.Control,{required:!0,type:"name",placeholder:"\u540d\u524d\u3092\u8a18\u5165",value:s,onChange:function(e){return a(e.target.value)}})]}),Object(A.jsxs)(de.a.Group,{controlId:"duty",children:[Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u8077\u52d9"}),Object(A.jsxs)(de.a.Control,{required:!0,as:"select",value:l,onChange:function(e){return o(e.target.value)},style:{cursor:"pointer"},children:[Object(A.jsx)("option",{value:"\u6b63\u793e\u54e1",children:"\u6b63\u793e\u54e1"}),Object(A.jsx)("option",{value:"\u30a2\u30eb\u30d0\u30a4\u30c8\u30ea\u30fc\u30c0\u30fc",children:"\u30a2\u30eb\u30d0\u30a4\u30c8\u30ea\u30fc\u30c0\u30fc"}),Object(A.jsx)("option",{value:"\u30a2\u30eb\u30d0\u30a4\u30c8",children:"\u30a2\u30eb\u30d0\u30a4\u30c8"}),Object(A.jsx)("option",{value:"",children:"\u300c\u8077\u52d9\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]}),Object(A.jsxs)(de.a.Group,{controlId:"employment",children:[Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u96c7\u7528\u5f62\u614b"}),Object(A.jsxs)(de.a.Control,{required:!0,as:"select",value:p,onChange:function(e){return f(e.target.value)},style:{cursor:"pointer"},children:[Object(A.jsx)("option",{value:"\u6b63\u793e\u54e1",children:"\u6b63\u793e\u54e1"}),Object(A.jsx)("option",{value:"\u30d5\u30ea\u30fc\u30bf\u30fc\uff08\u903140\u6642\u9593\uff09",children:"\u30d5\u30ea\u30fc\u30bf\u30fc\uff08\u903140\u6642\u9593\uff09"}),Object(A.jsx)("option",{value:"\u30d5\u30ea\u30fc\u30bf\u30fc\uff08\u903120\u6642\u9593\uff09",children:"\u30d5\u30ea\u30fc\u30bf\u30fc\uff08\u903120\u6642\u9593\uff09"}),Object(A.jsx)("option",{value:"\u5b66\u751f",children:"\u5b66\u751f"}),Object(A.jsx)("option",{value:"",children:"\u300c\u96c7\u7528\u5f62\u614b\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]}),Object(A.jsxs)(de.a.Group,{controlId:"section",children:[Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u30bb\u30af\u30b7\u30e7\u30f3"}),Object(A.jsxs)(de.a.Control,{required:!0,as:"select",value:h,onChange:function(e){return O(e.target.value)},style:{cursor:"pointer"},children:[Object(A.jsx)("option",{value:"\u30d5\u30ed\u30f3\u30c8",children:"\u30d5\u30ed\u30f3\u30c8"}),Object(A.jsx)("option",{value:"\u6620\u5199",children:"\u6620\u5199"}),Object(A.jsx)("option",{value:"\u30b3\u30f3\u30bb\u30c3\u30b7\u30e7\u30f3",children:"\u30b3\u30f3\u30bb\u30c3\u30b7\u30e7\u30f3"}),Object(A.jsx)("option",{value:"\u30dc\u30c3\u30af\u30b9",children:"\u30dc\u30c3\u30af\u30b9"}),Object(A.jsx)("option",{value:"\u30b7\u30e7\u30c3\u30d7",children:"\u30b7\u30e7\u30c3\u30d7"}),Object(A.jsx)("option",{value:"",children:"\u300c\u30bb\u30af\u30b7\u30e7\u30f3\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]}),Object(A.jsxs)(de.a.Group,{controlId:"isRookie",children:[Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u7814\u4fee"}),Object(A.jsxs)(de.a.Control,{required:!0,as:"select",value:y,onChange:function(){return _(!y)},style:{cursor:"pointer"},children:[Object(A.jsx)("option",{value:!0,children:"\u7814\u4fee\u4e2d"}),Object(A.jsx)("option",{value:!1,children:"\u5b8c\u4e86"})]})]}),Object(A.jsxs)(de.a.Group,{controlId:"isOpen",children:[Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u30aa\u30fc\u30d7\u30f3"}),Object(A.jsxs)(de.a.Control,{required:!0,as:"select",value:k,onChange:function(){return S(!k)},style:{cursor:"pointer"},children:[Object(A.jsx)("option",{value:!0,children:"\u53ef"}),Object(A.jsx)("option",{value:!1,children:"\u4e0d\u53ef"})]})]}),Object(A.jsxs)(de.a.Group,{controlId:"isPreClose",children:[Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"10\u6642\u7de0\u3081"}),Object(A.jsxs)(de.a.Control,{required:!0,as:"select",value:L,onChange:function(){return D(!L)},style:{cursor:"pointer"},children:[Object(A.jsx)("option",{value:!0,children:"\u53ef"}),Object(A.jsx)("option",{value:!1,children:"\u4e0d\u53ef"})]})]}),Object(A.jsxs)(de.a.Group,{controlId:"isClose",children:[Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u7de0\u3081"}),Object(A.jsxs)(de.a.Control,{required:!0,as:"select",value:F,onChange:function(){return G(!F)},style:{cursor:"pointer"},children:[Object(A.jsx)("option",{value:!0,children:"\u53ef"}),Object(A.jsx)("option",{value:!1,children:"\u4e0d\u53ef"})]})]}),Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u901a\u5e38\u696d\u52d9\u958b\u59cb\u6642\u9593"}),Object(A.jsx)(Ie.a,{placeholder:"\u958b\u59cb\u6642\u9593\u3092\u9078\u629e",value:T,min:new Date("01/01/2021 07:00 AM"),format:"HH:mm",step:30,change:function(e){return R(e.text)},openOnFocus:!0,strictMode:!0,showClearButton:!1,allowEdit:!1,style:{cursor:"pointer"}}),Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u901a\u5e38\u696d\u52d9\u7d42\u4e86\u6642\u9593"}),Object(A.jsx)(Ie.a,{placeholder:"\u7d42\u4e86\u6642\u9593\u3092\u9078\u629e",value:P,min:new Date("01/01/2021 "+T),format:"HH:mm",step:30,change:function(e){return Y(e.text)},openOnFocus:!0,strictMode:!0,showClearButton:!1,allowEdit:!1,style:{cursor:"pointer"}}),Object(A.jsxs)(de.a.Group,{controlId:"weeklyWork",children:[Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u9031\u9593\u5e0c\u671b\u30b7\u30d5\u30c8\u56de\u6570"}),Object(A.jsxs)(de.a.Control,{required:!0,as:"select",value:K,onChange:function(e){return X(e.target.value)},style:{cursor:"pointer"},children:[Object(A.jsx)("option",{value:1,children:"1\u56de"}),Object(A.jsx)("option",{value:2,children:"2\u56de"}),Object(A.jsx)("option",{value:3,children:"3\u56de"}),Object(A.jsx)("option",{value:4,children:"4\u56de"}),Object(A.jsx)("option",{value:5,children:"5\u56de"}),Object(A.jsx)("option",{value:0,children:"\u300c\u9031\u9593\u5e0c\u671b\u30b7\u30d5\u30c8\u56de\u6570\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]}),Object(A.jsxs)(de.a.Group,{controlId:"workTime",children:[Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u5e0c\u671b\u5c31\u52b4\u6642\u9593"}),Object(A.jsxs)(de.a.Control,{required:!0,as:"select",value:ee,onChange:function(e){return ne(e.target.value)},style:{cursor:"pointer"},children:[Object(A.jsx)("option",{value:3,children:"3h"}),Object(A.jsx)("option",{value:4,children:"4h"}),Object(A.jsx)("option",{value:5,children:"5h"}),Object(A.jsx)("option",{value:6,children:"6h"}),Object(A.jsx)("option",{value:7,children:"7h"}),Object(A.jsx)("option",{value:8,children:"8h"}),Object(A.jsx)("option",{value:0,children:"\u300c\u5e0c\u671b\u5c31\u52b4\u6642\u9593\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]}),Object(A.jsxs)(de.a.Group,{controlId:"commute",children:[Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u901a\u52e4\u65b9\u6cd5"}),Object(A.jsxs)(de.a.Control,{required:!0,as:"select",value:le,onChange:function(e){return oe(e.target.value)},style:{cursor:"pointer"},children:[Object(A.jsx)("option",{value:"\u96fb\u8eca",children:"\u96fb\u8eca"}),Object(A.jsx)("option",{value:"\u30d0\u30b9",children:"\u30d0\u30b9"}),Object(A.jsx)("option",{value:"\u5f92\u6b69",children:"\u5f92\u6b69"}),Object(A.jsx)("option",{value:"\u81ea\u8ee2\u8eca",children:"\u81ea\u8ee2\u8eca"}),Object(A.jsx)("option",{value:"",children:"\u300c\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]}),Object(A.jsxs)(de.a.Group,{controlId:"station",children:[Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u6700\u5bc4\u308a\u99c5"}),Object(A.jsx)(de.a.Control,{type:"text",placeholder:"\u6700\u5bc4\u308a\u99c5\u3092\u5165\u529b",value:xe,onChange:function(e){return me(e.target.value)}})]}),Object(A.jsx)(be.a,{type:"submit",variant:"primary",size:"lg",className:"mt-4",children:"\u66f4\u65b0"})]})})]})},De=c(150),Ee=c(48),Me=Ee.startOfMonth,Fe=Ee.startOfWeek,Ge=Ee.endOfMonth,Be=Ee.endOfWeek,Ae=Ee.startOfDay,He=Ee.addDays,Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=Fe(Ae(e,1));return function(){var e=Object(_.a)(Array(7)).map((function(e,c){return He(t,c)}));return t=He(e[6],1),e}},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=[],c=e,n=function(e){return e[e.length-1][6]};return function(){var e=Te(Me(c)),r=Ae(Be(Ge(c)));for(t.push(e());n(t)<r;)t.push(e());var s=t;return t=[],c=He(n(s),1),s}};var qe=function(e){var t=e.history,c=e.match,s=c.params.id,a=Object(n.useState)([]),i=Object(b.a)(a,2),j=i[0],l=i[1],o=z().userInfo,d=["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],u=Re(new Date(String(j.period_start)))();return Object(n.useEffect)((function(){if(o){var e=function(){var e=Object(ce.a)(te.a.mark((function e(){var t,n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("/api/shifts/confirm/".concat(s,"/"),c);case 2:t=e.sent,n=t.data,l(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(o.token)}};e()}else t.push("/login")}),[o,t,c]),Object(A.jsxs)("div",{children:[Object(A.jsx)(je.Link,{to:"/profile",className:"btn my-2",style:{background:"#999999"},children:"\uff1c \u623b\u308b"}),Object(A.jsx)("h1",{className:"p-4",children:"\u30b7\u30d5\u30c8\u78ba\u8a8d"}),j.shiftItems&&Object(A.jsxs)("div",{className:"text-center",children:[Object(A.jsxs)("h4",{style:{borderBottom:"1px solid",display:"inline-block"},children:[u[0][6].getFullYear(),"/",u[0][6].getMonth()+1]}),Object(A.jsx)("div",{children:Object(A.jsx)(ue.a,{className:"text-center my-4",children:u.map((function(e){return Object(A.jsx)(r.a.Fragment,{children:e.map((function(e){return Object(A.jsx)(he.a,{className:"my-1",xs:6,sm:6,md:4,lg:3,xl:2,children:Object(A.jsxs)(De.a,{style:{width:"11rem",height:"10rem"},children:[Object(A.jsxs)(De.a.Header,{children:[e.getMonth()+1," / ",e.getDate()," (",d[e.getDay()],")"]}),Object(A.jsx)(De.a.Body,{children:j.shiftItems.map((function(t){return Object(A.jsx)("div",{children:t.date===Object(Se.a)(e,"yyyy-MM-dd")&&Object(A.jsxs)("div",{children:[Object(A.jsx)(De.a.Title,{style:{color:"#0405B5"},children:Object(A.jsx)("b",{children:"\u51fa\u52e4"})}),Object(A.jsxs)(De.a.Text,{children:[t.start_time.substring(0,5)," ","~"," ",t.end_time.substring(0,5)]})]})},t._id)}))})]})},e)}))},e)}))})})]})]})};var ze=function(e){var t,c=e.shiftItem,r=e.date,s=Object(n.useState)(!1),a=Object(b.a)(s,2),i=a[0],l=a[1],o=Object(n.useState)(!1),d=Object(b.a)(o,2),u=d[0],h=d[1],O=Object(n.useState)(""),x=Object(b.a)(O,2),m=x[0],p=x[1],f=Object(n.useState)(""),v=Object(b.a)(f,2),g=v[0],y=v[1],_=Object(n.useState)(!0),C=Object(b.a)(_,2),N=C[0],k=C[1],S=$(),w=W().profile;return Object(n.useEffect)((function(){c&&N?(l(c.is_work),h(c.is_all_day),p(String(c.start_time).substring(0,5)),y(String(c.end_time).substring(0,5)),k(!1)):u?(p("07:00"),y("23:30")):m||g||(p(w.start_default.substring(0,5)),y(w.end_default.substring(0,5))),r&&!i&&Ce(S,r),i&&r&&m&&g&&_e(S,r,i,m,g,u)}),[u,i,r,m,g]),Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(j.a,{style:{color:(t=i,t?"dodgerblue":"")},children:Object(A.jsx)(de.a.Group,{children:m||g?Object(A.jsxs)("div",{children:[Object(A.jsx)(de.a.Label,{className:"m-0",children:"\u51fa\u6b20"}),Object(A.jsxs)(de.a.Control,{as:"select",value:i,onChange:function(e){l(!i)},className:"mb-3",style:{cursor:"pointer"},children:[Object(A.jsx)("option",{value:!1,children:"\u2613"}),Object(A.jsx)("option",{value:!0,children:"\u25cb"})]}),Object(A.jsx)(de.a.Label,{className:"mb-0",children:"\u958b\u59cb\u6642\u9593"}),Object(A.jsx)(Ie.a,{placeholder:"\u958b\u59cb\u6642\u9593\u3092\u9078\u629e",value:m,min:new Date("01/01/2021 07:00 AM"),format:"HH:mm",step:30,change:function(e){return p(e.text)},enabled:!u&&i,openOnFocus:!u,strictMode:!0,showClearButton:!1,allowEdit:!1,style:{cursor:"pointer"}}),Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u7d42\u4e86\u6642\u9593"}),Object(A.jsx)(Ie.a,{placeholder:"\u7d42\u4e86\u6642\u9593\u3092\u9078\u629e",value:g,min:new Date("01/01/2021 "+m),format:"HH:mm",step:30,change:function(e){return y(e.text)},enabled:!u&&i,openOnFocus:!u,strictMode:!0,showClearButton:!1,allowEdit:!1,style:{cursor:"pointer"}}),Object(A.jsx)(de.a.Group,{className:"my-3",controlId:"formBasicCheckbox",children:Object(A.jsx)(de.a.Check,{disabled:!i,type:"checkbox",label:"\u7d42\u65e5",checked:u,onChange:function(){return h(!u)},className:"text-left"})})]}):Object(A.jsx)(ve,{})})})})};var Ue=function(e){var t=e.history,c=e.match,s=z().userInfo,a=Z().shiftItems,i=c.params.id,j=Object(n.useState)([]),l=Object(b.a)(j,2),o=l[0],d=l[1],u=Object(n.useState)([]),h=Object(b.a)(u,2),O=h[0],x=h[1],m=Object(n.useState)([]),p=Object(b.a)(m,2),f=p[0],v=p[1],g=Object(n.useState)(!0),y=Object(b.a)(g,2),_=y[0],C=y[1],N=["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)};Object(n.useEffect)((function(){if(s){var e=function(){var e=Object(ce.a)(te.a.mark((function e(){var t,n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("/api/shifts/confirm/".concat(i,"/"),c);case 2:t=e.sent,n=t.data,d(n),x(n.remarks),v(Re(new Date(String(n.period_start)))()),C(!1),console.log(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}};e()}else t.push("/login")}),[s,t,c]);var S=function(){var e=Object(ce.a)(te.a.mark((function e(c){var n,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),!window.confirm("\u3053\u306e\u30b7\u30d5\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3059\u304b?")){e.next=8;break}return n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},e.next=5,re.a.put("/api/shifts/shift-update/".concat(i,"/"),{shiftItems:a,remarks:O},n);case 5:r=e.sent,r.data,t.push("/profile");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)("div",{children:[Object(A.jsx)(je.Link,{to:"/profile",className:"btn my-2",style:{background:"#999999"},children:"\uff1c \u623b\u308b"}),Object(A.jsx)("h1",{className:"p-4",children:"\u30b7\u30d5\u30c8\u66f4\u65b0"}),_?Object(A.jsx)(ve,{}):Object(A.jsxs)("div",{className:"text-center",children:[Object(A.jsxs)("h4",{style:{borderBottom:"1px solid",display:"inline-block"},children:[f[0][6].getFullYear(),"/",f[0][6].getMonth()+1]}),Object(A.jsxs)(de.a,{onSubmit:S,children:[Object(A.jsx)(ue.a,{className:"my-5 border",children:f.map((function(e,t){return Object(A.jsx)(r.a.Fragment,{children:e.map((function(e,t){return Object(A.jsx)(r.a.Fragment,{children:e.getMonth()===f[0][6].getMonth()&&Object(A.jsx)(he.a,{className:"my-1",xs:6,sm:6,md:4,lg:3,xl:2,children:Object(A.jsxs)(De.a,{className:"mx-auto my-2",children:[Object(A.jsxs)(De.a.Header,{children:[e.getMonth()+1," / ",e.getDate()," (",N[e.getDay()],")"]}),Object(A.jsx)(De.a.Body,{children:Object(A.jsx)(ze,{date:k(e),shiftItem:o.shiftItems.find((function(t){return t.date===k(e)}))})})]})})},t)}))},t)}))}),Object(A.jsxs)(ue.a,{className:"p-3 mb-5",children:[Object(A.jsx)(he.a,{md:8,children:Object(A.jsxs)(de.a.Group,{controlId:"remarks",children:[Object(A.jsx)(de.a.Label,{children:"\u5099\u8003"}),Object(A.jsx)(de.a.Control,{as:"textarea",row:"5",placeholder:"\u4eca\u56de\u306e\u30b7\u30d5\u30c8\u306b\u95a2\u3057\u3066\u306a\u306b\u304b\u5e0c\u671b\u304c\u3042\u308c\u3070\u8a18\u8ff0\u3057\u3066\u304f\u3060\u3055\u3044",value:O,onChange:function(e){return x(e.target.value)}})]})}),Object(A.jsx)(he.a,{md:4,className:"d-grid gap-2 mt-4",children:Object(A.jsx)(be.a,{type:"submit",variant:"primary",size:"lg",children:"\u63d0\u51fa"})})]})]})]})]})};var Pe=function(e){var t,c=e.history,r=e.date,s=Object(n.useState)(!1),a=Object(b.a)(s,2),i=a[0],l=a[1],o=Object(n.useState)(!1),d=Object(b.a)(o,2),u=d[0],h=d[1],O=Object(n.useState)(""),x=Object(b.a)(O,2),m=x[0],p=x[1],f=Object(n.useState)(""),v=Object(b.a)(f,2),g=v[0],y=v[1],_=W().profile,C=(Z(),$()),N=function(e){return e?"pointer":"not-allowed"};return Object(n.useEffect)((function(){u?(p("07:00"),y("23:30")):m||g||(p(_.start_default.substring(0,5)),y(_.end_default.substring(0,5))),r&&!i&&Ce(C,r),i&&r&&m&&g&&_e(C,r,i,m,g,u)}),[c,u,i,r,m,g]),Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(j.a,{style:{color:(t=i,t?"dodgerblue":"")},children:Object(A.jsxs)(de.a.Group,{children:[Object(A.jsx)(de.a.Label,{className:"m-0",children:"\u51fa\u6b20"}),Object(A.jsxs)(de.a.Control,{as:"select",value:i,onChange:function(e){l(!i)},className:"mb-3",style:{cursor:"pointer"},children:[Object(A.jsx)("option",{value:!1,children:"\u2613"}),Object(A.jsx)("option",{value:!0,children:"\u25cb"})]}),m||g?Object(A.jsxs)("div",{children:[Object(A.jsx)(de.a.Label,{className:"mb-0",children:"\u958b\u59cb\u6642\u9593"}),Object(A.jsx)(Ie.a,{placeholder:"\u958b\u59cb\u6642\u9593\u3092\u9078\u629e",value:m,min:new Date("01/01/2021 07:00 AM"),format:"HH:mm",step:30,change:function(e){return p(e.text)},enabled:!u&&i,openOnFocus:!u,strictMode:!0,showClearButton:!1,allowEdit:!1,style:{cursor:N(i)}}),Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u7d42\u4e86\u6642\u9593"}),Object(A.jsx)(Ie.a,{placeholder:"\u7d42\u4e86\u6642\u9593\u3092\u9078\u629e",value:g,min:new Date("01/01/2021 "+m),format:"HH:mm",step:30,change:function(e){return y(e.text)},enabled:!u&&i,openOnFocus:!u,strictMode:!0,showClearButton:!1,allowEdit:!1,style:{cursor:N(i)}}),Object(A.jsx)(de.a.Group,{className:"my-3",controlId:"formBasicCheckbox",children:Object(A.jsx)(de.a.Check,{disabled:!i,type:"checkbox",label:"\u7d42\u65e5",onChange:function(){return h(!u)},className:"text-left"})})]}):Object(A.jsx)(ve,{})]})})})};var Ye=function(e){var t=e.history,c=z().userInfo,s=W().profile,a=Z(),i=a.shiftItems,j=a.period,l=a.isSubmitted,o=Object(n.useState)(""),d=Object(b.a)(o,2),u=d[0],h=d[1],O=["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],x=Re(j[0])(),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)};Object(n.useEffect)((function(){c?l&&t.push("/profile"):t.push("/login")}),[c,t]);var p=function(){var e=Object(ce.a)(te.a.mark((function e(n){var r,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!window.confirm("\u30b7\u30d5\u30c8\u3092\u63d0\u51fa\u3057\u307e\u3059\u304b?\uff08\u63d0\u51fa\u671f\u9650\u5f8c\u3001MGR\u304c\u53d7\u7406\u3059\u308b\u307e\u3067\u306f\u66f4\u65b0\u53ef\u80fd\u3067\u3059\uff09")){e.next=8;break}return r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=5,re.a.post("/api/shifts/shift/create/",{shiftItems:i,section:s.section,periodStart:m(j[0]),periodEnd:m(j[1]),remarks:u,isSubmitted:!0},r);case 5:a=e.sent,a.data,t.push("/profile");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)("div",{children:[Object(A.jsx)(je.Link,{to:"/profile",className:"btn my-2",style:{background:"#999999"},children:"\uff1c \u623b\u308b"}),Object(A.jsx)("h1",{className:"p-4",children:"\u65b0\u898f\u30b7\u30d5\u30c8\u63d0\u51fa"}),Object(A.jsxs)("div",{className:"text-center",children:[Object(A.jsxs)("h4",{style:{borderBottom:"1px solid",display:"inline-block"},children:[x[0][6].getFullYear(),"/",x[0][6].getMonth()+1]}),Object(A.jsxs)(de.a,{onSubmit:p,children:[Object(A.jsx)(ue.a,{className:"my-5 border",children:x.map((function(e,t){return Object(A.jsx)(r.a.Fragment,{children:e.map((function(e,t){return Object(A.jsx)(r.a.Fragment,{children:e.getMonth()===x[0][6].getMonth()&&Object(A.jsx)(he.a,{className:"my-1",xs:6,sm:6,md:4,lg:3,xl:2,children:Object(A.jsxs)(De.a,{className:"mx-auto my-2",children:[Object(A.jsxs)(De.a.Header,{children:[e.getMonth()+1," / ",e.getDate()," (",O[e.getDay()],")"]}),Object(A.jsx)(De.a.Body,{children:Object(A.jsx)(Pe,{date:m(e)})})]})})},t)}))},t)}))}),Object(A.jsxs)(ue.a,{className:"p-3 mb-5",children:[Object(A.jsx)(he.a,{md:8,children:Object(A.jsxs)(de.a.Group,{controlId:"remarks",children:[Object(A.jsx)(de.a.Label,{children:"\u5099\u8003"}),Object(A.jsx)(de.a.Control,{as:"textarea",row:"5",placeholder:"\u4eca\u56de\u306e\u30b7\u30d5\u30c8\u306b\u95a2\u3057\u3066\u306a\u306b\u304b\u5e0c\u671b\u304c\u3042\u308c\u3070\u8a18\u8ff0\u3057\u3066\u304f\u3060\u3055\u3044",value:u,onChange:function(e){return h(e.target.value)}})]})}),Object(A.jsx)(he.a,{md:4,className:"d-grid gap-2 mt-4",children:Object(A.jsx)(be.a,{type:"submit",variant:"primary",size:"lg",children:"\u63d0\u51fa"})})]})]})]})]})},Je=c(38);var We=function(e){var t=e.history,c=Object(n.useState)([]),r=Object(b.a)(c,2),s=r[0],a=r[1],i=z().userInfo,l=U(),o=Q(),u=W(),h=u.profile,O=u.loading,x=Z(),m=x.period,p=x.deadline,f=x.isSubmitted,v=x.loading,g=$(),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)};return Object(n.useEffect)((function(){if(i){var e=function(){var e=Object(ce.a)(te.a.mark((function e(){var c,n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g({type:C}),e.next=3,re.a.get("/api/shifts/myshifts/",t);case 3:c=e.sent,n=c.data,a(n),g({type:N});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();ae(o,i);var t={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(i.token)}};e()}else{se("demo@email.com","demo1234",l)}}),[t,i,f,m]),Object(A.jsxs)("div",{children:[Object(A.jsxs)("h1",{children:["\u3088\u3046\u3053\u305d ",h.name," \u3055\u3093"]}),Object(A.jsxs)(ue.a,{className:"py-3",children:[v?Object(A.jsx)(ve,{}):Object(A.jsxs)(he.a,{md:5,sm:12,className:"py-2",children:[Object(A.jsx)("h4",{children:"\u30b7\u30d5\u30c8\u63d0\u51fa"}),Object(A.jsxs)(j.a,{className:"border",children:[Object(A.jsx)(d.LinkContainer,{to:"/demo/shift/submit",className:"d-grid gap-2 my-3 p-1",children:Object(A.jsxs)(be.a,{className:"btn-lg",variant:"outline-primary",disabled:f||new Date>p,children:["\u4eca\u6708\u306e\u63d0\u51fa\u5206\u306f\u3053\u3061\u3089\u304b\u3089 ",Object(A.jsxs)("p",{className:"m-0",children:[y(m[0])," ~ ",y(m[1])]})]})}),Object(A.jsxs)("p",{className:"my-0 py-0",children:["\u63d0\u51fa\u72b6\u614b\uff1a ",f?Object(A.jsx)("i",{style:{color:"blue"},children:"\u63d0\u51fa\u6e08\u307f"}):Object(A.jsx)("i",{style:{color:"red"},children:"\u672a\u63d0\u51fa"})]}),Object(A.jsxs)("p",{className:"my-0 py-0",children:["\u63d0\u51fa\u671f\u9650\uff1a ",String(Object(Se.a)(p,"yyyy-MM-dd' 'HH:mm"))," \u307e\u3067"]}),!f&&new Date>p&&Object(A.jsx)(me,{variant:"danger",children:"\u671f\u9650\u5185\u306b\u63d0\u51fa\u3067\u304d\u3066\u3044\u307e\u305b\u3093 \u2192 \u62c5\u5f53\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u306b\u9023\u7d61\uff01"})]}),Object(A.jsx)("h4",{className:"mt-5",children:"\u30b7\u30d5\u30c8\u7ba1\u7406"}),0===s.length?Object(A.jsx)(me,{variant:"info",children:"\u30b7\u30d5\u30c8\u304c\u3042\u308a\u307e\u305b\u3093"}):Object(A.jsxs)(ye.a,{striped:!0,hover:!0,responsive:!0,className:"table-sm border",children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"ID"}),Object(A.jsx)("th",{children:"PERIOD"}),Object(A.jsx)("th",{children:"STATUS"}),Object(A.jsx)("th",{})]})}),Object(A.jsx)("tbody",{children:s.map((function(e){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:e._id}),Object(A.jsxs)("td",{children:[e.period_start," "," "," ~ "," ",e.period_end]}),Object(A.jsx)("td",{children:e.is_confirmed?"\u78ba\u5b9a":"\u672a\u78ba\u5b9a"}),Object(A.jsx)("td",{children:e.is_confirmed?Object(A.jsx)(d.LinkContainer,{to:"/demo/shifts/confirm/".concat(e._id),children:Object(A.jsx)(be.a,{className:"btn-sm",variant:"outline-primary",children:"\u8a73\u7d30"})}):Object(A.jsx)(d.LinkContainer,{to:"/demo/shifts/update/".concat(e._id),children:Object(A.jsx)(be.a,{className:"btn-sm",variant:"outline-info",children:"\u66f4\u65b0"})})})]},e._id)}))})]})]}),O?Object(A.jsx)(ve,{}):Object(A.jsxs)(he.a,{md:7,sm:12,className:"py-2",children:[Object(A.jsxs)(ue.a,{children:[Object(A.jsx)(he.a,{md:10,sm:10,xs:10,children:Object(A.jsx)("h4",{children:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb"})}),Object(A.jsx)(he.a,{md:2,sm:2,xs:2,className:"m-0 px-0 pb-2 text-center",children:Object(A.jsx)(d.LinkContainer,{to:"/demo/update/profile",children:Object(A.jsx)(be.a,{variant:"outline-secondary",className:"btn-sm",children:"\u7de8\u96c6"})})})]}),Object(A.jsxs)(ye.a,{striped:!0,hover:!0,responsive:!0,size:"sm",className:"border",children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Key"}),Object(A.jsx)("th",{children:"Value"}),Object(A.jsx)("th",{children:"Remarks"})]})}),Object(A.jsxs)("tbody",{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:"ID"}),Object(A.jsx)("td",{children:h._id}),Object(A.jsx)("td",{})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:"\u540d\u524d"}),Object(A.jsx)("td",{children:h.name}),Object(A.jsx)("td",{})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:"\u8077\u52d9"}),Object(A.jsx)("td",{children:h.duty}),Object(A.jsx)("td",{})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:"\u30bb\u30af\u30b7\u30e7\u30f3"}),Object(A.jsx)("td",{children:h.section}),Object(A.jsx)("td",{})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:"\u96c7\u7528\u5f62\u614b"}),Object(A.jsx)("td",{children:h.employment_status}),Object(A.jsx)("td",{})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:"\u7814\u4fee\u4e2d"}),Object(A.jsx)("td",{children:h.is_rookie?"\u7814\u4fee\u4e2d":"\u4fee\u4e86"}),Object(A.jsx)("td",{})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:"\u30aa\u30fc\u30d7\u30f3"}),Object(A.jsx)("td",{children:h.is_open_staff?"\u53ef":"\u4e0d\u53ef"}),Object(A.jsx)("td",{})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:"10\u6642\u7de0\u3081"}),Object(A.jsx)("td",{children:h.is_pre_close_staff?"\u53ef":"\u4e0d\u53ef"}),Object(A.jsx)("td",{})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:"\u7de0\u3081"}),Object(A.jsx)("td",{children:h.is_close_staff?"\u53ef":"\u4e0d\u53ef"}),Object(A.jsx)("td",{})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:" \u696d\u52d9\u958b\u59cb\u6642\u9593"}),Object(A.jsxs)("td",{children:[" ",h.start_default.substring(0,5)]}),Object(A.jsx)("td",{children:"\u63d0\u51fa\u6642\u306e\u521d\u671f\u5024\u3068\u306a\u308a\u307e\u3059"})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:" \u696d\u52d9\u7d42\u4e86\u6642\u9593"}),Object(A.jsxs)("td",{children:[" ",h.end_default.substring(0,5)]}),Object(A.jsx)("td",{children:"\u63d0\u51fa\u6642\u306e\u521d\u671f\u5024\u3068\u306a\u308a\u307e\u3059"})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:" \u9031\u9593\u5e0c\u671b\u30b7\u30d5\u30c8\u56de\u6570"}),Object(A.jsxs)("td",{children:[" \u9031",h.desired_times_per_week]}),Object(A.jsx)("td",{children:"\u30b7\u30d5\u30c8\u4f5c\u6210\u306e\u53c2\u8003\u306b\u3057\u307e\u3059"})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:" \u5e0c\u671b\u5c31\u52b4\u6642\u9593"}),Object(A.jsxs)("td",{children:[" ",h.desired_working_time,"h"]}),Object(A.jsx)("td",{children:"\u30b7\u30d5\u30c8\u4f5c\u6210\u306e\u53c2\u8003\u306b\u3057\u307e\u3059"})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:" \u901a\u52e4\u65b9\u6cd5"}),Object(A.jsxs)("td",{children:[" ",h.commute]}),Object(A.jsx)("td",{})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:" \u6700\u5bc4\u308a\u99c5"}),Object(A.jsxs)("td",{children:[" ",h.station]}),Object(A.jsx)("td",{children:" \u6700\u77ed\u7d4c\u8def\u304c\u4ea4\u901a\u8cbb\u652f\u7d66\u984d\u3067\u3059"})]})]})]})]})]}),Object(A.jsx)("h4",{children:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc"}),Object(A.jsxs)(j.a,{className:"border",children:[Object(A.jsxs)(Oe,{children:[Object(A.jsxs)(ue.a,{className:"m-3",children:[Object(A.jsx)("p",{className:"mb-0",children:"\u63d0\u51fa\u72b6\u614b"}),Object(A.jsx)(be.a,{onClick:function(){Ne(g,!0)},variant:"outline-info",disabled:f,children:"\u63d0\u51fa\u6e08\u307f"}),Object(A.jsx)(be.a,{onClick:function(){Ne(g,!1)},variant:"outline-danger",disabled:!f,children:"\u672a\u63d0\u51fa"})]}),Object(A.jsxs)(ue.a,{className:"m-3",children:[Object(A.jsx)("p",{className:"mb-0",children:"\u63d0\u51fa\u671f\u9650"}),Object(A.jsx)(be.a,{onClick:function(){ke(g,Object(G.a)(Object(D.a)(Object(F.a)(new Date)),10))},variant:"outline-secondary",children:"\u30c7\u30d5\u30a9\u30eb\u30c8"}),Object(A.jsx)(be.a,{onClick:function(){ke(g,Object(D.a)(Object(F.a)(new Date)))},variant:"outline-secondary",children:"\u6708\u672b\u3078"}),Object(A.jsx)(be.a,{onClick:function(){ke(g,Object(Je.a)(Object(E.a)(new Date)))},variant:"outline-secondary",children:"\u6708\u59cb\u3078"})]})]}),Object(A.jsxs)(me,{variant:"info",children:["\u30fbDemo\u30e6\u30fc\u30b6\u30fc\u3067\u306f\u3001\u300c\u63d0\u51fa\u72b6\u614b\u300d\u3068\u300c\u63d0\u51fa\u671f\u9650\u300d\u3092\u81ea\u7531\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002",Object(A.jsx)("br",{}),"\u30fb\u4e00\u822c\u306e\u30e6\u30fc\u30b6\u30fc\u3067\u306f\u3001\u300c\u63d0\u51fa\u72b6\u614b\uff08\u6765\u6708\u5206\u306e\u30b7\u30d5\u30c8\u63d0\u51fa\u3055\u308c\u3066\u3044\u308b\u304b\uff09\u300d\u3068\u300c\u63d0\u51fa\u671f\u9650\u300d\u306e\u72b6\u614b\u7ba1\u7406\u3092\u81ea\u52d5\u3067\u884c\u3044\u307e\u3059\u3002"]})]})]})};var Qe=function(){return Object(A.jsx)(je.Link,{to:"/demo/profile",className:"btn my-2",style:{background:"#95a5a6"},children:"\uff1c"})};var Ve=function(e){var t=e.history,c=Object(n.useState)(""),r=Object(b.a)(c,2),s=r[0],a=r[1],i=Object(n.useState)(""),j=Object(b.a)(i,2),l=j[0],o=j[1],d=Object(n.useState)(""),u=Object(b.a)(d,2),h=u[0],O=u[1],x=Object(n.useState)(""),m=Object(b.a)(x,2),p=m[0],f=m[1],v=Object(n.useState)(!1),g=Object(b.a)(v,2),y=g[0],_=g[1],C=Object(n.useState)(!1),N=Object(b.a)(C,2),k=N[0],S=N[1],w=Object(n.useState)(!1),I=Object(b.a)(w,2),L=I[0],D=I[1],E=Object(n.useState)(!1),M=Object(b.a)(E,2),F=M[0],G=M[1],B=Object(n.useState)(""),H=Object(b.a)(B,2),T=H[0],R=H[1],q=Object(n.useState)(""),U=Object(b.a)(q,2),P=U[0],Y=U[1],J=Object(n.useState)(""),V=Object(b.a)(J,2),K=V[0],X=V[1],Z=Object(n.useState)(""),$=Object(b.a)(Z,2),ee=$[0],ne=$[1],se=Object(n.useState)(""),ie=Object(b.a)(se,2),je=ie[0],le=ie[1],oe=Object(n.useState)(""),ue=Object(b.a)(oe,2),he=ue[0],xe=ue[1],me=Object(n.useState)(!0),pe=Object(b.a)(me,2),fe=pe[0],ge=pe[1],ye=z().userInfo,_e=Q(),Ce=W().profile;Object(n.useEffect)((function(){ye?(ae(_e,ye),Ce.name?a(Ce.name):a("\u540d\u524d\u304c\u3042\u308a\u307e\u305b\u3093"),Ce.duty?o(Ce.duty):o(""),Ce.employment_status?f(Ce.employment_status):f(""),Ce.section?O(Ce.section):O(""),Ce.is_rookie?_(Ce.is_rookie):_(!1),Ce.is_open_staff?S(Ce.is_open_staff):S(!1),Ce.is_pre_close_staff?D(Ce.is_pre_close_staff):D(!1),Ce.is_close_staff?G(Ce.is_close_staff):G(!1),Ce.start_default?R(Ce.start_default):R(""),Ce.end_default?Y(Ce.end_default):Y(""),Ce.desired_times_per_week?X(Ce.desired_times_per_week):X(0),Ce.desired_working_time?ne(Ce.desired_working_time):ne(0),Ce.commute?le(Ce.commute):le(""),Ce.station?xe(Ce.station):xe(""),ge(!1)):t.push("/login"),T||P||(R(Ce.start_default.substring(0,5)),Y(Ce.end_default.substring(0,5)))}),[t,ye]);var Ne=function(){var e=Object(ce.a)(te.a.mark((function e(c){var n,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),console.log("submitted!"),console.log(s,l,h,y,k,L,F,T,P,K,ee,je,he),!window.confirm("\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u306e\u66f4\u65b0\u3092\u3057\u307e\u3059\u304b\uff1f")){e.next=10;break}return n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(ye.token)}},e.next=7,re.a.put("/api/users/update/profile/",{name:s,duty:l,employment:p,section:h,isRookie:y,isOpen:k,isPreClose:L,isClose:F,startDefault:T,endDefault:P,weeklyTime:K,workTime:ee,commute:je,station:he},n);case 7:r=e.sent,r.data,t.push("/demo/profile");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(Qe,{}),fe?Object(A.jsx)(ve,{}):Object(A.jsx)(Oe,{children:Object(A.jsxs)(de.a,{onSubmit:Ne,className:"border p-3",children:[Object(A.jsxs)(de.a.Group,{controlId:"name",children:[Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u540d\u524d"}),Object(A.jsx)(de.a.Control,{required:!0,disabled:!0,type:"name",placeholder:"\u540d\u524d\u3092\u8a18\u5165",value:s,onChange:function(e){return a(e.target.value)}})]}),Object(A.jsxs)(de.a.Group,{controlId:"duty",children:[Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u8077\u52d9"}),Object(A.jsxs)(de.a.Control,{required:!0,as:"select",value:l,onChange:function(e){return o(e.target.value)},style:{cursor:"pointer"},children:[Object(A.jsx)("option",{value:"\u6b63\u793e\u54e1",children:"\u6b63\u793e\u54e1"}),Object(A.jsx)("option",{value:"\u30a2\u30eb\u30d0\u30a4\u30c8\u30ea\u30fc\u30c0\u30fc",children:"\u30a2\u30eb\u30d0\u30a4\u30c8\u30ea\u30fc\u30c0\u30fc"}),Object(A.jsx)("option",{value:"\u30a2\u30eb\u30d0\u30a4\u30c8",children:"\u30a2\u30eb\u30d0\u30a4\u30c8"}),Object(A.jsx)("option",{value:"",children:"\u300c\u8077\u52d9\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]}),Object(A.jsxs)(de.a.Group,{controlId:"employment",children:[Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u96c7\u7528\u5f62\u614b"}),Object(A.jsxs)(de.a.Control,{required:!0,as:"select",value:p,onChange:function(e){return f(e.target.value)},style:{cursor:"pointer"},children:[Object(A.jsx)("option",{value:"\u6b63\u793e\u54e1",children:"\u6b63\u793e\u54e1"}),Object(A.jsx)("option",{value:"\u30d5\u30ea\u30fc\u30bf\u30fc\uff08\u903140\u6642\u9593\uff09",children:"\u30d5\u30ea\u30fc\u30bf\u30fc\uff08\u903140\u6642\u9593\uff09"}),Object(A.jsx)("option",{value:"\u30d5\u30ea\u30fc\u30bf\u30fc\uff08\u903120\u6642\u9593\uff09",children:"\u30d5\u30ea\u30fc\u30bf\u30fc\uff08\u903120\u6642\u9593\uff09"}),Object(A.jsx)("option",{value:"\u5b66\u751f",children:"\u5b66\u751f"}),Object(A.jsx)("option",{value:"",children:"\u300c\u96c7\u7528\u5f62\u614b\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]}),Object(A.jsxs)(de.a.Group,{controlId:"section",children:[Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u30bb\u30af\u30b7\u30e7\u30f3"}),Object(A.jsxs)(de.a.Control,{required:!0,as:"select",value:h,onChange:function(e){return O(e.target.value)},style:{cursor:"pointer"},children:[Object(A.jsx)("option",{value:"\u30d5\u30ed\u30f3\u30c8",children:"\u30d5\u30ed\u30f3\u30c8"}),Object(A.jsx)("option",{value:"\u30ad\u30c3\u30c1\u30f3",children:"\u30ad\u30c3\u30c1\u30f3"}),Object(A.jsx)("option",{value:"\u30c9\u30ea\u30f3\u30af",children:"\u30c9\u30ea\u30f3\u30af"}),Object(A.jsx)("option",{value:"",children:"\u300c\u30bb\u30af\u30b7\u30e7\u30f3\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]}),Object(A.jsxs)(de.a.Group,{controlId:"isRookie",children:[Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u7814\u4fee"}),Object(A.jsxs)(de.a.Control,{required:!0,as:"select",value:y,onChange:function(){return _(!y)},style:{cursor:"pointer"},children:[Object(A.jsx)("option",{value:!0,children:"\u7814\u4fee\u4e2d"}),Object(A.jsx)("option",{value:!1,children:"\u5b8c\u4e86"})]})]}),Object(A.jsxs)(de.a.Group,{controlId:"isOpen",children:[Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u30aa\u30fc\u30d7\u30f3"}),Object(A.jsxs)(de.a.Control,{required:!0,as:"select",value:k,onChange:function(){return S(!k)},style:{cursor:"pointer"},children:[Object(A.jsx)("option",{value:!0,children:"\u53ef"}),Object(A.jsx)("option",{value:!1,children:"\u4e0d\u53ef"})]})]}),Object(A.jsxs)(de.a.Group,{controlId:"isPreClose",children:[Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"10\u6642\u7de0\u3081"}),Object(A.jsxs)(de.a.Control,{required:!0,as:"select",value:L,onChange:function(){return D(!L)},style:{cursor:"pointer"},children:[Object(A.jsx)("option",{value:!0,children:"\u53ef"}),Object(A.jsx)("option",{value:!1,children:"\u4e0d\u53ef"})]})]}),Object(A.jsxs)(de.a.Group,{controlId:"isClose",children:[Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u7de0\u3081"}),Object(A.jsxs)(de.a.Control,{required:!0,as:"select",value:F,onChange:function(){return G(!F)},style:{cursor:"pointer"},children:[Object(A.jsx)("option",{value:!0,children:"\u53ef"}),Object(A.jsx)("option",{value:!1,children:"\u4e0d\u53ef"})]})]}),Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u901a\u5e38\u696d\u52d9\u958b\u59cb\u6642\u9593"}),Object(A.jsx)(Ie.a,{placeholder:"\u958b\u59cb\u6642\u9593\u3092\u9078\u629e",value:T,min:new Date("01/01/2021 07:00 AM"),format:"HH:mm",step:30,change:function(e){return R(e.text)},openOnFocus:!0,strictMode:!0,showClearButton:!1,allowEdit:!1,style:{cursor:"pointer"}}),Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u901a\u5e38\u696d\u52d9\u7d42\u4e86\u6642\u9593"}),Object(A.jsx)(Ie.a,{placeholder:"\u7d42\u4e86\u6642\u9593\u3092\u9078\u629e",value:P,min:new Date("01/01/2021 "+T),format:"HH:mm",step:30,change:function(e){return Y(e.text)},openOnFocus:!0,strictMode:!0,showClearButton:!1,allowEdit:!1,style:{cursor:"pointer"}}),Object(A.jsxs)(de.a.Group,{controlId:"weeklyWork",children:[Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u9031\u9593\u5e0c\u671b\u30b7\u30d5\u30c8\u56de\u6570"}),Object(A.jsxs)(de.a.Control,{required:!0,as:"select",value:K,onChange:function(e){return X(e.target.value)},style:{cursor:"pointer"},children:[Object(A.jsx)("option",{value:1,children:"1\u56de"}),Object(A.jsx)("option",{value:2,children:"2\u56de"}),Object(A.jsx)("option",{value:3,children:"3\u56de"}),Object(A.jsx)("option",{value:4,children:"4\u56de"}),Object(A.jsx)("option",{value:5,children:"5\u56de"}),Object(A.jsx)("option",{value:0,children:"\u300c\u9031\u9593\u5e0c\u671b\u30b7\u30d5\u30c8\u56de\u6570\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]}),Object(A.jsxs)(de.a.Group,{controlId:"workTime",children:[Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u5e0c\u671b\u5c31\u52b4\u6642\u9593"}),Object(A.jsxs)(de.a.Control,{required:!0,as:"select",value:ee,onChange:function(e){return ne(e.target.value)},style:{cursor:"pointer"},children:[Object(A.jsx)("option",{value:3,children:"3h"}),Object(A.jsx)("option",{value:4,children:"4h"}),Object(A.jsx)("option",{value:5,children:"5h"}),Object(A.jsx)("option",{value:6,children:"6h"}),Object(A.jsx)("option",{value:7,children:"7h"}),Object(A.jsx)("option",{value:8,children:"8h"}),Object(A.jsx)("option",{value:0,children:"\u300c\u5e0c\u671b\u5c31\u52b4\u6642\u9593\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]}),Object(A.jsxs)(de.a.Group,{controlId:"commute",children:[Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u901a\u52e4\u65b9\u6cd5"}),Object(A.jsxs)(de.a.Control,{required:!0,as:"select",value:je,onChange:function(e){return le(e.target.value)},style:{cursor:"pointer"},children:[Object(A.jsx)("option",{value:"\u96fb\u8eca",children:"\u96fb\u8eca"}),Object(A.jsx)("option",{value:"\u30d0\u30b9",children:"\u30d0\u30b9"}),Object(A.jsx)("option",{value:"\u5f92\u6b69",children:"\u5f92\u6b69"}),Object(A.jsx)("option",{value:"\u81ea\u8ee2\u8eca",children:"\u81ea\u8ee2\u8eca"}),Object(A.jsx)("option",{value:"",children:"\u300c\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]}),Object(A.jsxs)(de.a.Group,{controlId:"station",children:[Object(A.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u6700\u5bc4\u308a\u99c5"}),Object(A.jsx)(de.a.Control,{type:"text",placeholder:"\u6700\u5bc4\u308a\u99c5\u3092\u5165\u529b",value:he,onChange:function(e){return xe(e.target.value)}})]}),Object(A.jsx)(be.a,{type:"submit",variant:"primary",size:"lg",className:"mt-4",children:"\u66f4\u65b0"})]})})]})};var Ke=function(e){var t=e.history,c=z().userInfo,s=W().profile,a=Z(),i=a.shiftItems,j=a.period,l=a.isSubmitted,o=Object(n.useState)(""),d=Object(b.a)(o,2),u=d[0],h=d[1],O=["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],x=Re(j[0])(),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)};Object(n.useEffect)((function(){c?l&&t.push("/demo/profile"):t.push("/login")}),[c,t]);var p=function(){var e=Object(ce.a)(te.a.mark((function e(n){var r,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!window.confirm("\u30b7\u30d5\u30c8\u3092\u63d0\u51fa\u3057\u307e\u3059\u304b?\uff08\u63d0\u51fa\u671f\u9650\u5f8c\u3001MGR\u304c\u53d7\u7406\u3059\u308b\u307e\u3067\u306f\u66f4\u65b0\u53ef\u80fd\u3067\u3059\uff09")){e.next=8;break}return r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=5,re.a.post("/api/shifts/shift/create/",{shiftItems:i,section:s.section,periodStart:m(j[0]),periodEnd:m(j[1]),remarks:u,isSubmitted:!0},r);case 5:a=e.sent,a.data,t.push("/demo/profile");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)("div",{children:[Object(A.jsx)(Qe,{}),Object(A.jsx)("h1",{className:"p-4",children:"\u65b0\u898f\u30b7\u30d5\u30c8\u63d0\u51fa"}),Object(A.jsxs)("div",{className:"text-center",children:[Object(A.jsxs)("h4",{style:{borderBottom:"1px solid",display:"inline-block"},children:[x[0][6].getFullYear(),"/",x[0][6].getMonth()+1]}),Object(A.jsxs)(de.a,{onSubmit:p,children:[Object(A.jsx)(ue.a,{className:"my-5 border",children:x.map((function(e,t){return Object(A.jsx)(r.a.Fragment,{children:e.map((function(e,t){return Object(A.jsx)(r.a.Fragment,{children:e.getMonth()===x[0][6].getMonth()&&Object(A.jsx)(he.a,{className:"my-1",xs:6,sm:6,md:4,lg:3,xl:2,children:Object(A.jsxs)(De.a,{className:"mx-auto my-2",children:[Object(A.jsxs)(De.a.Header,{children:[e.getMonth()+1," / ",e.getDate()," (",O[e.getDay()],")"]}),Object(A.jsx)(De.a.Body,{children:Object(A.jsx)(Pe,{date:m(e)})})]})})},t)}))},t)}))}),Object(A.jsxs)(ue.a,{className:"p-3 mb-5",children:[Object(A.jsx)(he.a,{md:8,children:Object(A.jsxs)(de.a.Group,{controlId:"remarks",children:[Object(A.jsx)(de.a.Label,{children:"\u5099\u8003"}),Object(A.jsx)(de.a.Control,{as:"textarea",row:"5",placeholder:"\u4eca\u56de\u306e\u30b7\u30d5\u30c8\u306b\u95a2\u3057\u3066\u306a\u306b\u304b\u5e0c\u671b\u304c\u3042\u308c\u3070\u8a18\u8ff0\u3057\u3066\u304f\u3060\u3055\u3044",value:u,onChange:function(e){return h(e.target.value)}})]})}),Object(A.jsx)(he.a,{md:4,className:"d-grid gap-2 mt-4",children:Object(A.jsx)(be.a,{type:"submit",variant:"primary",size:"lg",children:"\u63d0\u51fa"})})]})]})]})]})};var Xe=function(e){var t=e.history,c=e.match,s=z().userInfo,a=Z().shiftItems,i=c.params.id,j=Object(n.useState)([]),l=Object(b.a)(j,2),o=l[0],d=l[1],u=Object(n.useState)([]),h=Object(b.a)(u,2),O=h[0],x=h[1],m=Object(n.useState)([]),p=Object(b.a)(m,2),f=p[0],v=p[1],g=Object(n.useState)(!0),y=Object(b.a)(g,2),_=y[0],C=y[1],N=["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)};Object(n.useEffect)((function(){if(s){var e=function(){var e=Object(ce.a)(te.a.mark((function e(){var t,n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("/api/shifts/confirm/".concat(i,"/"),c);case 2:t=e.sent,n=t.data,d(n),x(n.remarks),v(Re(new Date(String(n.period_start)))()),C(!1),console.log(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}};e()}else t.push("/login")}),[s,t,c]);var S=function(){var e=Object(ce.a)(te.a.mark((function e(c){var n,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),!window.confirm("\u3053\u306e\u30b7\u30d5\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3059\u304b?")){e.next=8;break}return n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},e.next=5,re.a.put("/api/shifts/shift-update/".concat(i,"/"),{shiftItems:a,remarks:O},n);case 5:r=e.sent,r.data,t.push("/demo/profile");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)("div",{children:[Object(A.jsx)(Qe,{}),Object(A.jsx)("h1",{className:"p-4",children:"\u30b7\u30d5\u30c8\u66f4\u65b0"}),_?Object(A.jsx)(ve,{}):Object(A.jsxs)("div",{className:"text-center",children:[Object(A.jsxs)("h4",{style:{borderBottom:"1px solid",display:"inline-block"},children:[f[0][6].getFullYear(),"/",f[0][6].getMonth()+1]}),Object(A.jsxs)(de.a,{onSubmit:S,children:[Object(A.jsx)(ue.a,{className:"my-5 border",children:f.map((function(e,t){return Object(A.jsx)(r.a.Fragment,{children:e.map((function(e,t){return Object(A.jsx)(r.a.Fragment,{children:e.getMonth()===f[0][6].getMonth()&&Object(A.jsx)(he.a,{className:"my-1",xs:6,sm:6,md:4,lg:3,xl:2,children:Object(A.jsxs)(De.a,{className:"mx-auto my-2",children:[Object(A.jsxs)(De.a.Header,{children:[e.getMonth()+1," / ",e.getDate()," (",N[e.getDay()],")"]}),Object(A.jsx)(De.a.Body,{children:Object(A.jsx)(ze,{date:k(e),shiftItem:o.shiftItems.find((function(t){return t.date===k(e)}))})})]})})},t)}))},t)}))}),Object(A.jsxs)(ue.a,{className:"p-3 mb-5",children:[Object(A.jsx)(he.a,{md:8,children:Object(A.jsxs)(de.a.Group,{controlId:"remarks",children:[Object(A.jsx)(de.a.Label,{children:"\u5099\u8003"}),Object(A.jsx)(de.a.Control,{as:"textarea",row:"5",placeholder:"\u4eca\u56de\u306e\u30b7\u30d5\u30c8\u306b\u95a2\u3057\u3066\u306a\u306b\u304b\u5e0c\u671b\u304c\u3042\u308c\u3070\u8a18\u8ff0\u3057\u3066\u304f\u3060\u3055\u3044",value:O,onChange:function(e){return x(e.target.value)}})]})}),Object(A.jsx)(he.a,{md:4,className:"d-grid gap-2 mt-4",children:Object(A.jsx)(be.a,{type:"submit",variant:"primary",size:"lg",children:"\u63d0\u51fa"})})]})]})]})]})};var Ze=function(e){var t=e.history,c=e.match,s=c.params.id,a=Object(n.useState)([]),i=Object(b.a)(a,2),j=i[0],l=i[1],o=z().userInfo,d=["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],u=Re(new Date(String(j.period_start)))();return Object(n.useEffect)((function(){if(o){var e=function(){var e=Object(ce.a)(te.a.mark((function e(){var t,n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("/api/shifts/confirm/".concat(s,"/"),c);case 2:t=e.sent,n=t.data,l(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(o.token)}};e()}else t.push("/login")}),[o,t,c]),Object(A.jsxs)("div",{children:[Object(A.jsx)(Qe,{}),Object(A.jsx)("h1",{className:"p-4",children:"\u30b7\u30d5\u30c8\u78ba\u8a8d"}),j.shiftItems&&Object(A.jsxs)("div",{className:"text-center",children:[Object(A.jsxs)("h4",{style:{borderBottom:"1px solid",display:"inline-block"},children:[u[0][6].getFullYear(),"/",u[0][6].getMonth()+1]}),Object(A.jsx)("div",{children:Object(A.jsx)(ue.a,{className:"text-center my-4",children:u.map((function(e){return Object(A.jsx)(r.a.Fragment,{children:e.map((function(e){return Object(A.jsx)(he.a,{className:"my-1",xs:6,sm:6,md:4,lg:3,xl:2,children:Object(A.jsxs)(De.a,{style:{width:"11rem",height:"10rem"},children:[Object(A.jsxs)(De.a.Header,{children:[e.getMonth()+1," / ",e.getDate()," (",d[e.getDay()],")"]}),Object(A.jsx)(De.a.Body,{children:j.shiftItems.map((function(t){return Object(A.jsx)("div",{children:t.date===Object(Se.a)(e,"yyyy-MM-dd")&&Object(A.jsxs)("div",{children:[Object(A.jsx)(De.a.Title,{style:{color:"#0405B5"},children:Object(A.jsx)("b",{children:"\u51fa\u52e4"})}),Object(A.jsxs)(De.a.Text,{children:[t.start_time.substring(0,5)," ","~"," ",t.end_time.substring(0,5)]})]})},t._id)}))})]})},e)}))},e)}))})})]})]})};var $e=function(e){var t=e.history,c=Object(n.useState)([]),r=Object(b.a)(c,2),s=r[0],a=r[1],i=Object(n.useState)(!1),j=Object(b.a)(i,2),l=j[0],o=j[1],u=z().userInfo;return Object(n.useEffect)((function(){if(u&&u.isAdmin){var e=function(){var e=Object(ce.a)(te.a.mark((function e(){var t,n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("/api/users/admin/getusers/",c);case 2:t=e.sent,n=t.data,a(n),o(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(u.token)}};e()}else t.push("/login")}),[t,u,l]),Object(A.jsxs)("div",{children:[Object(A.jsx)("h1",{children:"\u30e6\u30fc\u30b6\u30fc\u4e00\u89a7"}),s?Object(A.jsxs)(ye.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"ID"}),Object(A.jsx)("th",{children:"NAME"}),Object(A.jsx)("th",{children:"EMAIL"}),Object(A.jsx)("th",{children:"ADMIN"}),Object(A.jsx)("th",{children:"EDIT/DELETE"})]})}),Object(A.jsx)("tbody",{children:s.map((function(e){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:e._id}),Object(A.jsx)("td",{children:e.name}),Object(A.jsx)("td",{children:e.email}),Object(A.jsx)("td",{children:e.isAdmin?Object(A.jsx)("i",{className:"fas fa-check"}):Object(A.jsx)("i",{className:"fas fa-times"})}),Object(A.jsxs)("td",{children:[Object(A.jsx)(d.LinkContainer,{to:"user/".concat(e._id,"/edit"),children:Object(A.jsx)(be.a,{variant:"light",className:"btn-sm mx-2",children:Object(A.jsx)("i",{className:"fas fa-edit"})})}),Object(A.jsx)(be.a,{className:"btn-sm mx-2",onClick:function(){return function(e){if(window.confirm("\u3053\u306e\u30e6\u30fc\u30b6\u30fc\uff08ID=".concat(e,"\uff09\u3092\u524a\u9664\u3057\u3066\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f"))){var t=function(){var t=Object(ce.a)(te.a.mark((function t(){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re.a.delete("/api/users/admin/deleteuser/".concat(e,"/"),c);case 2:t.sent.data,o(!0);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(u.token)}};t()}}(e._id)},children:Object(A.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]}):Object(A.jsx)(ve,{})]})};var et=function(e){var t=e.match,c=e.history,r=t.params.id,s=Object(n.useState)(""),a=Object(b.a)(s,2),i=a[0],j=a[1],l=Object(n.useState)(""),o=Object(b.a)(l,2),d=o[0],u=o[1],h=Object(n.useState)(!1),O=Object(b.a)(h,2),x=O[0],m=O[1],p=z().userInfo;Object(n.useEffect)((function(){i&&d||function(){var e=Object(ce.a)(te.a.mark((function e(){var t,c,n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(p.token)}},e.next=3,re.a.get("/api/users/".concat(r,"/"),t);case 3:c=e.sent,n=c.data,j(n.name),u(n.email),m(n.isAdmin);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[p,c,r]);var f=function(){var e=Object(ce.a)(te.a.mark((function e(t){var n,s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(p.token)}},e.next=4,re.a.put("api/users/admin/updateuser/".concat(r,"/"),{name:i,email:d,isAdmin:x},n);case 4:s=e.sent,s.data,c.push("/admin/userlist");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)("div",{children:[Object(A.jsx)(je.Link,{to:"/admin/userlist",className:"btn my-2",style:{background:"#999999"},children:"\uff1c \u623b\u308b"}),Object(A.jsxs)(Oe,{children:[Object(A.jsx)("h1",{children:"\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u66f4\u65b0"}),Object(A.jsxs)(de.a,{onSubmit:f,children:[Object(A.jsxs)(de.a.Group,{controlId:"name",children:[Object(A.jsx)(de.a.Label,{children:"\u30e6\u30fc\u30b6\u30fc\u540d"}),Object(A.jsx)(de.a.Control,{type:"name",placeholder:"Enter Name",required:!0,value:i,onChange:function(e){return j(e.target.value)}})]}),Object(A.jsxs)(de.a.Group,{controlId:"email",children:[Object(A.jsx)(de.a.Label,{children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\uff08\u30ed\u30b0\u30a4\u30f3ID\uff09"}),Object(A.jsx)(de.a.Control,{type:"email",placeholder:"Enter Email",required:!0,value:d,onChange:function(e){return u(e.target.value)}})]}),Object(A.jsxs)(de.a.Group,{controlId:"idAdmin",children:[Object(A.jsx)(de.a.Label,{children:"\u203b\u7ba1\u7406\u8005\u6a29\u9650"}),Object(A.jsx)(de.a.Check,{type:"checkbox",placeholder:"Is Admin",value:x,checked:x,onChange:function(e){return m(e.target.checked)}})]}),Object(A.jsx)(be.a,{type:"submit",variant:"primary",children:"\u66f4\u65b0"})]})]}),Object(A.jsx)(Oe,{children:Object(A.jsx)("div",{className:"mt-5",children:Object(A.jsx)(me,{variant:"info",children:"\uff08\u203b\uff09\u7ba1\u7406\u8005\u306f\u3001\u3059\u3079\u3066\u306e\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u3068\u30b7\u30d5\u30c8\u60c5\u5831\u306e\u95b2\u89a7\u30fb\u7de8\u96c6\u30fb\u524a\u9664\u304c\u53ef\u80fd\u3067\u3059\u3002 \u7ba1\u7406\u8005\u6a29\u9650\u306e\u4ed8\u4e0e\u306b\u306f\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002"})})})]})};var tt=function(e){var t=e.history,c=z().userInfo;return Object(n.useEffect)((function(){c&&c.isAdmin?console.log("useEffect"):t.push("/login")}),[t,c]),Object(A.jsx)("div",{children:Object(A.jsx)("h1",{children:"Shifts\uff08\u958b\u767a\u4e2d\uff09"})})};var ct=function(){return Object(A.jsx)(je.HashRouter,{children:Object(A.jsx)(q,{children:Object(A.jsx)(X,{children:Object(A.jsxs)(J,{children:[Object(A.jsx)(ie,{}),Object(A.jsx)("main",{className:"py-3",children:Object(A.jsxs)(j.a,{children:[Object(A.jsx)(le.d,{path:"/",component:oe,exact:!0}),Object(A.jsx)(le.d,{path:"/register",component:pe}),Object(A.jsx)(le.d,{path:"/login",component:ge}),Object(A.jsx)(le.d,{path:"/shifts/confirm/:id",component:qe}),Object(A.jsx)(le.d,{path:"/profile",component:we}),Object(A.jsx)(le.d,{path:"/update/profile",component:Le}),Object(A.jsx)(le.d,{path:"/shifts/test",component:Pe}),Object(A.jsx)(le.d,{path:"/update/test/:id",component:ze}),Object(A.jsx)(le.d,{path:"/shifts/update/:id",component:Ue}),Object(A.jsx)(le.d,{path:"/shifts/submit",component:Ye}),Object(A.jsx)(le.d,{path:"/demo/profile",component:We}),Object(A.jsx)(le.d,{path:"/demo/update/profile",component:Ve}),Object(A.jsx)(le.d,{path:"/demo/shift/submit",component:Ke}),Object(A.jsx)(le.d,{path:"/demo/shifts/update/:id",component:Xe}),Object(A.jsx)(le.d,{path:"/demo/shifts/confirm/:id",component:Ze}),Object(A.jsx)(le.d,{path:"/admin/userlist",component:$e}),Object(A.jsx)(le.d,{path:"/admin/user/:id/edit",component:et}),Object(A.jsx)(le.d,{path:"/admin/shiftlist",component:tt})]})})]})})})})},nt=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,151)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))};a.a.render(Object(A.jsx)(r.a.StrictMode,{children:Object(A.jsx)(ct,{})}),document.getElementById("root")),nt()}},[[130,1,2]]]);
//# sourceMappingURL=main.035c5f77.chunk.js.map