(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},130:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(32),r=n.n(s),i=(n(100),n(101),n(147)),j=n(140),l=n(148),o=n(144),d=n(15),b=n(6),u=n(20),h="USER_LOGIN_REQUEST",O="USER_LOGIN_SUCCESS",x="USER_LOGIN_FAIL",m="USER_LOGOUT",p="USER_PROFILE_REQUEST",f="USER_PROFILE_SUCCESS",v="USER_PROFILE_RESET",g={userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,error:!1,loading:!1},y={profile:localStorage.getItem("profile")?JSON.parse(localStorage.getItem("profile")):{},error:!1,loading:!0},N=n(70),_="SHIFT_REQUEST",k="SHIFT_SUCCESS",C="SHIFT_ADD_ITEM",S="SHIFT_REMOVE_ITEM",w="SHIFT_CHANGE_STATUS",I="SHIFT_RESET",D="SHIFT_CHANGE_PERIOD",L=n(51),E=n(44),M=n(35),F=n(52),A=n(53),G={shiftItems:[],isSubmitted:!1,loading:!0,period:[Object(L.a)(Object(E.a)(Object(M.a)(new Date,1))),Object(L.a)(Object(F.a)(Object(M.a)(new Date,1)))],deadline:Object(A.a)(Object(L.a)(Object(F.a)(new Date)),10)},B=n(0),T=function(e,t){var n=a.a.createContext(),s=a.a.createContext();return[function(a){var r=a.children,i=Object(c.useReducer)(e,t),j=Object(b.a)(i,2),l=j[0],o=j[1];return Object(B.jsx)(s.Provider,{value:o,children:Object(B.jsx)(n.Provider,{value:l,children:r})})},function(){return a.a.useContext(n)},function(){return a.a.useContext(s)}]},H=T((function(e,t){switch(t.type){case h:return{loading:!0};case O:return{loading:!1,userInfo:t.payload};case x:return{loading:!1,error:!0};case m:return{loading:!1,userInfo:null};default:return e}}),g),z=Object(b.a)(H,3),q=z[0],R=z[1],P=z[2],U=T((function(e,t){switch(t.type){case p:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case f:return Object(u.a)(Object(u.a)({},e),{},{loading:!1,profile:t.payload});case"USER_PROFILE_FAIL":return Object(u.a)(Object(u.a)({},e),{},{loading:!1,error:!0});case v:return y;default:return e}}),y),Y=Object(b.a)(U,3),J=Y[0],W=Y[1],Q=Y[2],V=T((function(e,t){switch(t.type){case _:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case k:return Object(u.a)(Object(u.a)({},e),{},{loading:!1});case C:var n=t.payload,c=e.shiftItems.find((function(e){return e.date===n.date}));return c?Object(u.a)(Object(u.a)({},e),{},{loading:!1,shiftItems:e.shiftItems.map((function(e){return e.date===c.date?n:e}))}):Object(u.a)(Object(u.a)({},e),{},{loading:!1,shiftItems:[].concat(Object(N.a)(e.shiftItems),[n])});case S:return Object(u.a)(Object(u.a)({},e),{},{loading:!1,shiftItems:e.shiftItems.filter((function(e){return e.date!==t.payload}))});case w:return Object(u.a)(Object(u.a)({},e),{},{loading:!1,isSubmitted:t.payload});case D:return Object(u.a)(Object(u.a)({},e),{},{loading:!1,deadline:t.payload});case I:return G;default:return e}}),G),K=Object(b.a)(V,3),X=K[0],Z=K[1],$=K[2],ee=n(9),te=n.n(ee),ne=n(12),ce=n(13),ae=n.n(ce),se=function(){var e=Object(ne.a)(te.a.mark((function e(t,n,c){var a,s,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:h}),a={headers:{"Content-type":"application/json"}},e.next=5,ae.a.post("/api/users/login/",{username:t,password:n},a);case 5:s=e.sent,r=s.data,c({type:O,payload:r}),localStorage.setItem("userInfo",JSON.stringify(r)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),c({type:x,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n,c){return e.apply(this,arguments)}}(),re=function(){var e=Object(ne.a)(te.a.mark((function e(t,n){var c,a,s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:p}),c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},e.next=4,ae.a.get("/api/users/profile/",c);case 4:a=e.sent,s=a.data,t({type:f,payload:s}),localStorage.setItem("profile",JSON.stringify(s));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var ie=function(){var e=R(),t=P(),n=e.userInfo,c=$(),a=W().profile,s=Q(),r=function(){!function(e){localStorage.removeItem("userInfo"),localStorage.removeItem("profile"),e({type:m})}(t),c({type:I}),s({type:v})};return Object(B.jsx)("header",{children:Object(B.jsx)(i.a,{bg:"dark",variant:"dark",collapseOnSelect:!0,children:Object(B.jsxs)(j.a,{children:[Object(B.jsx)(i.a.Brand,{children:"Shift Web"}),Object(B.jsxs)(l.a,{className:"mr-auto p-1",children:[n&&Object(B.jsx)(o.a,{title:a.name,id:"username",className:"px-4",children:"demo@email.com"===n.email?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(d.LinkContainer,{to:"/demo/profile",children:Object(B.jsx)(o.a.Item,{children:"\u30db\u30fc\u30e0"})}),Object(B.jsx)(d.LinkContainer,{to:"/login",children:Object(B.jsx)(o.a.Item,{onClick:r,children:"\u30ed\u30b0\u30a2\u30a6\u30c8"})})]}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(d.LinkContainer,{to:"/profile",children:Object(B.jsx)(o.a.Item,{children:"\u30db\u30fc\u30e0"})}),Object(B.jsx)(o.a.Item,{onClick:r,children:"\u30ed\u30b0\u30a2\u30a6\u30c8"})]})}),n&&n.isAdmin&&Object(B.jsxs)(o.a,{title:"\u7ba1\u7406\u8005\u6a29\u9650",id:"adminmenu",children:[Object(B.jsx)(d.LinkContainer,{to:"/admin/userlist",children:Object(B.jsx)(o.a.Item,{children:"\u30e6\u30fc\u30b6\u30fc\u7ba1\u7406"})}),Object(B.jsx)(d.LinkContainer,{to:"/admin/shiftlist",children:Object(B.jsx)(o.a.Item,{children:"\u30b7\u30d5\u30c8\u7ba1\u7406"})})]}),n&&Object(B.jsx)(B.Fragment,{children:"demo@email.com"===n.email&&Object(B.jsxs)(o.a,{title:"\u7ba1\u7406\u8005\u6a29\u9650",id:"adminmenu",children:[Object(B.jsx)(d.LinkContainer,{to:"/demo/admin/userlist",children:Object(B.jsx)(o.a.Item,{children:"\u30e6\u30fc\u30b6\u30fc\u7ba1\u7406"})}),Object(B.jsx)(d.LinkContainer,{to:"/demo/admin/shiftlist",children:Object(B.jsx)(o.a.Item,{children:"\u30b7\u30d5\u30c8\u7ba1\u7406"})})]})})]})]})})})},je=n(17),le=n(21);var oe=function(e){var t=e.history;return R().userInfo,Object(c.useEffect)((function(){t.push("/login")}),[]),Object(B.jsx)(B.Fragment,{children:Object(B.jsx)("h1",{children:"Home Page"})})},de=n(146),be=n(94),ue=n(141),he=n(95);var Oe=function(e){var t=e.children;return Object(B.jsx)(j.a,{children:Object(B.jsx)(ue.a,{className:"justify-content-md-center",children:Object(B.jsx)(he.a,{xs:12,md:6,children:t})})})},xe=n(149);var me=function(e){var t=e.variant,n=e.children;return Object(B.jsx)(xe.a,{variant:t,children:n})};var pe=function(e){var t=e.history,n=e.location,a=Object(c.useState)(""),s=Object(b.a)(a,2),r=s[0],i=s[1],j=Object(c.useState)(""),l=Object(b.a)(j,2),o=l[0],d=l[1],u=Object(c.useState)(""),h=Object(b.a)(u,2),O=h[0],x=h[1],m=Object(c.useState)(""),p=Object(b.a)(m,2),f=p[0],v=p[1],g=Object(c.useState)(""),y=Object(b.a)(g,2),N=y[0],_=y[1],k=R(),C=P(),S=k.userInfo,w=n.search?n.search.split("=")[1]:"/";Object(c.useEffect)((function(){S&&t.push("/")}),[t,S]);var I=function(){var e=Object(ne.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),O===f){e.next=5;break}_("\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u4e00\u81f4\u3057\u307e\u305b\u3093"),e.next=8;break;case 5:return e.next=7,ae.a.post("/api/users/register/",{name:r,email:o,password:O});case 7:se(o,O,C);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)(Oe,{children:[Object(B.jsx)("h1",{children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u767b\u9332"}),N&&Object(B.jsx)(me,{variant:"danger",children:N}),Object(B.jsxs)(de.a,{onSubmit:I,children:[Object(B.jsxs)(de.a.Group,{controlId:"name",className:"mb-4",children:[Object(B.jsx)(de.a.Label,{children:"\u540d\u524d"}),Object(B.jsx)(de.a.Control,{required:!0,type:"name",placeholder:"\u540d\u524d\u3092\u5165\u529b",value:r,onChange:function(e){return i(e.target.value)}})]}),Object(B.jsxs)(de.a.Group,{controlId:"email",className:"mb-4",children:[Object(B.jsx)(de.a.Label,{children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),Object(B.jsx)(de.a.Control,{required:!0,type:"email",placeholder:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b",value:o,onChange:function(e){return d(e.target.value)}})]}),Object(B.jsxs)(de.a.Group,{controlId:"password",className:"mb-4",children:[Object(B.jsx)(de.a.Label,{children:"\u30d1\u30b9\u30ef\u30fc\u30c9"}),Object(B.jsx)(de.a.Control,{required:!0,type:"password",placeholder:"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b",value:O,onChange:function(e){return x(e.target.value)}})]}),Object(B.jsxs)(de.a.Group,{controlId:"passwordConfirm",className:"mb-4",children:[Object(B.jsx)(de.a.Label,{children:"\u30d1\u30b9\u30ef\u30fc\u30c9\u78ba\u8a8d"}),Object(B.jsx)(de.a.Control,{required:!0,type:"password",placeholder:"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u3082\u3046\u4e00\u5ea6\u5165\u529b",value:f,onChange:function(e){return v(e.target.value)}})]}),Object(B.jsx)(be.a,{type:"submit",variant:"primary",children:"\u767b\u9332"})]}),Object(B.jsx)(ue.a,{className:"py-3",children:Object(B.jsxs)(he.a,{children:["\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u304a\u6301\u3061\u65b9\uff1a",Object(B.jsxs)(je.Link,{to:w?"/login?redirect=".concat(w):"/login",children:[" "," \u30ed\u30b0\u30a4\u30f3"]})]})})]})},fe=n(142);var ve=function(){return Object(B.jsx)(fe.a,{animation:"border",role:"status",style:{height:"30px",width:"30px",margin:"auto",display:"block"}})};var ge=function(e){var t=e.history,n=e.location,a=R(),s=P(),r=a.userInfo,i=a.error,j=a.loading,l=Object(c.useState)(""),o=Object(b.a)(l,2),d=o[0],u=o[1],h=Object(c.useState)(""),O=Object(b.a)(h,2),x=O[0],m=O[1],p=n.search?n.search.split("=")[1]:"/";return Object(c.useEffect)((function(){r&&t.push("/profile")}),[t,r]),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Oe,{children:Object(B.jsx)(me,{variant:"info",children:Object(B.jsxs)(je.Link,{to:"/demo/profile",className:"demo__btn",children:["\u3068\u308a\u3042\u3048\u305a\u89e6\u308a\u305f\u3044\u65b9\u306f\u3053\u3061\u3089",Object(B.jsx)("br",{}),"DEMO\u30e6\u30fc\u30b6\u30fc\u3067\u30ed\u30b0\u30a4\u30f3"]})})}),Object(B.jsxs)(Oe,{children:[Object(B.jsx)("h1",{children:"\u30ed\u30b0\u30a4\u30f3"}),i&&Object(B.jsx)(me,{variant:"danger",children:"'\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u304b\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u9593\u9055\u3063\u3066\u3044\u307e\u3059'"}),j&&Object(B.jsx)(ve,{}),Object(B.jsxs)(de.a,{onSubmit:function(e){e.preventDefault(),se(d,x,s)},children:[Object(B.jsxs)(de.a.Group,{controlId:"email",children:[Object(B.jsx)(de.a.Label,{className:"mb-0",children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),Object(B.jsx)(de.a.Control,{type:"email",placeholder:"e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b",value:d,onChange:function(e){return u(e.target.value)}})]}),Object(B.jsxs)(de.a.Group,{controlId:"password",children:[Object(B.jsx)(de.a.Label,{className:"mb-0 mt-3",children:"\u30d1\u30b9\u30ef\u30fc\u30c9"}),Object(B.jsx)(de.a.Control,{type:"password",placeholder:"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b",value:x,onChange:function(e){return m(e.target.value)}})]}),Object(B.jsx)(be.a,{type:"submit",variant:"primary",className:"mt-2 mb-3",children:"\u30ed\u30b0\u30a4\u30f3"})]}),Object(B.jsx)(ue.a,{className:"py-3",children:Object(B.jsxs)(he.a,{children:["\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u304a\u6301\u3061\u3067\u306a\u3044\u65b9\uff1a",Object(B.jsxs)(je.Link,{to:p?"/register?redirect=".concat(p):"/register",children:[" "," \u767b\u9332"]})]})})]})]})},ye=n(143),Ne=function(e,t,n,c,a,s){e({type:C,payload:{date:t,isWork:n,startTime:c,endTime:a,isAllDay:s}})},_e=function(e,t){e({type:S,payload:t})},ke=function(e,t){e({type:w,payload:t})},Ce=function(e,t){e({type:D,payload:t})},Se=n(61);var we=function(e){var t=e.history,n=Object(c.useState)([]),a=Object(b.a)(n,2),s=a[0],r=a[1],i=R().userInfo,l=Q(),o=W(),u=o.profile,h=o.loading,O=Z(),x=O.period,m=O.deadline,p=O.isSubmitted,f=O.loading,v=$(),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)};return Object(c.useEffect)((function(){if(window.addEventListener("popstate",(function(e){"POP"===t.action&&t.go(0)})),i){var e=function(){var e=Object(ne.a)(te.a.mark((function e(){var t,c,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v({type:_}),e.next=3,ae.a.get("/api/shifts/myshifts/",n);case 3:for(t=e.sent,c=t.data,r(c),a=0;a<c.length;a++)c[a].period_start===g(x[0])&&ke(v,!0);v({type:k});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();re(l,i);var n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(i.token)}};e()}else t.push("/login")}),[t,i,l,v]),Object(B.jsxs)("div",{children:[Object(B.jsxs)("h1",{children:["\u3088\u3046\u3053\u305d ",u.name," \u3055\u3093"]}),Object(B.jsxs)(ue.a,{className:"py-3",children:[f?Object(B.jsx)(ve,{}):Object(B.jsxs)(he.a,{md:5,sm:12,className:"py-2",children:[Object(B.jsx)("h4",{children:"\u30b7\u30d5\u30c8\u63d0\u51fa"}),Object(B.jsxs)(j.a,{className:"border",children:[Object(B.jsx)(d.LinkContainer,{to:"/shifts/submit",className:"d-grid gap-2 my-3 p-1",children:Object(B.jsxs)(be.a,{size:"lg",variant:"primary",disabled:p||new Date>m,children:["\u4eca\u6708\u5206\u306f\u3053\u3061\u3089\u304b\u3089 ",Object(B.jsxs)("p",{className:"m-0",children:[g(x[0])," ~ ",g(x[1])]})]})}),Object(B.jsxs)("p",{className:"my-0 py-0",children:["\u63d0\u51fa\u72b6\u614b\uff1a ",p?Object(B.jsx)("i",{style:{color:"blue"},children:"\u63d0\u51fa\u6e08\u307f"}):Object(B.jsx)("i",{style:{color:"red"},children:"\u672a\u63d0\u51fa"})]}),Object(B.jsxs)("p",{className:"my-0 py-0",children:["\u63d0\u51fa\u671f\u9650\uff1a ",String(Object(Se.a)(m,"yyyy-MM-dd' 'HH:mm"))," \u307e\u3067"]}),!p&&new Date>m&&Object(B.jsx)(me,{variant:"danger",children:"\u671f\u9650\u5185\u306b\u63d0\u51fa\u3067\u304d\u3066\u3044\u307e\u305b\u3093 \u2192 \u62c5\u5f53\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u306b\u9023\u7d61\uff01"})]}),Object(B.jsx)("h4",{className:"mt-5",children:"\u30b7\u30d5\u30c8\u7ba1\u7406"}),0===s.length?Object(B.jsx)(me,{variant:"info",children:"\u30b7\u30d5\u30c8\u304c\u3042\u308a\u307e\u305b\u3093"}):Object(B.jsxs)(ye.a,{striped:!0,hover:!0,responsive:!0,className:"table-sm border",children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"ID"}),Object(B.jsx)("th",{children:"PERIOD"}),Object(B.jsx)("th",{children:"STATUS"}),Object(B.jsx)("th",{})]})}),Object(B.jsx)("tbody",{children:s.map((function(e){return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:e._id}),Object(B.jsxs)("td",{children:[e.period_start," "," "," ~ "," ",e.period_end]}),Object(B.jsx)("td",{children:e.is_confirmed?"\u78ba\u5b9a":"\u672a\u78ba\u5b9a"}),Object(B.jsx)("td",{children:e.is_confirmed?Object(B.jsx)(d.LinkContainer,{to:"/shifts/confirm/".concat(e._id),children:Object(B.jsx)(be.a,{className:"btn-sm",variant:"outline-primary",children:"\u8a73\u7d30"})}):Object(B.jsx)(d.LinkContainer,{to:"/shifts/update/".concat(e._id),children:Object(B.jsx)(be.a,{className:"btn-sm",variant:"outline-info",children:"\u66f4\u65b0"})})})]},e._id)}))})]})]}),h?Object(B.jsx)(ve,{}):Object(B.jsxs)(he.a,{md:7,sm:12,className:"py-2",children:[Object(B.jsxs)(ue.a,{children:[Object(B.jsx)(he.a,{md:10,sm:10,xs:10,children:Object(B.jsx)("h4",{children:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb"})}),Object(B.jsx)(he.a,{md:2,sm:2,xs:2,className:"m-0 px-0 pb-2 text-center",children:Object(B.jsx)(d.LinkContainer,{to:"/update/profile",children:Object(B.jsx)(be.a,{variant:"outline-secondary",className:"btn-sm",children:"\u7de8\u96c6"})})})]}),Object(B.jsxs)(ye.a,{striped:!0,hover:!0,responsive:!0,size:"sm",className:"border",children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"Key"}),Object(B.jsx)("th",{children:"Value"}),Object(B.jsx)("th",{children:"Remarks"})]})}),Object(B.jsxs)("tbody",{children:[Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:"ID"}),Object(B.jsx)("td",{children:u._id}),Object(B.jsx)("td",{})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:"\u540d\u524d"}),Object(B.jsx)("td",{children:u.name}),Object(B.jsx)("td",{})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:"\u8077\u52d9"}),Object(B.jsx)("td",{children:u.duty}),Object(B.jsx)("td",{})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:"\u30bb\u30af\u30b7\u30e7\u30f3"}),Object(B.jsx)("td",{children:u.section}),Object(B.jsx)("td",{})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:"\u96c7\u7528\u5f62\u614b"}),Object(B.jsx)("td",{children:u.employment_status}),Object(B.jsx)("td",{})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:"\u7814\u4fee\u4e2d"}),Object(B.jsx)("td",{children:u.is_rookie?"\u7814\u4fee\u4e2d":"\u4fee\u4e86"}),Object(B.jsx)("td",{})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:"\u30aa\u30fc\u30d7\u30f3"}),Object(B.jsx)("td",{children:u.is_open_staff?"\u53ef":"\u4e0d\u53ef"}),Object(B.jsx)("td",{})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:"10\u6642\u7de0\u3081"}),Object(B.jsx)("td",{children:u.is_pre_close_staff?"\u53ef":"\u4e0d\u53ef"}),Object(B.jsx)("td",{})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:"\u7de0\u3081"}),Object(B.jsx)("td",{children:u.is_close_staff?"\u53ef":"\u4e0d\u53ef"}),Object(B.jsx)("td",{})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:" \u696d\u52d9\u958b\u59cb\u6642\u9593"}),Object(B.jsxs)("td",{children:[" ",u.start_default.substring(0,5)]}),Object(B.jsx)("td",{children:"\u63d0\u51fa\u6642\u306b\u81ea\u52d5\u5165\u529b\u3055\u308c\u308b\u5024\u3067\u3059"})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:" \u696d\u52d9\u7d42\u4e86\u6642\u9593"}),Object(B.jsxs)("td",{children:[" ",u.end_default.substring(0,5)]}),Object(B.jsx)("td",{children:"\u63d0\u51fa\u6642\u306b\u81ea\u52d5\u5165\u529b\u3055\u308c\u308b\u5024\u3067\u3059"})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:" \u9031\u9593\u5e0c\u671b\u30b7\u30d5\u30c8\u56de\u6570"}),Object(B.jsxs)("td",{children:[" \u9031",u.desired_times_per_week]}),Object(B.jsx)("td",{children:"\u30b7\u30d5\u30c8\u4f5c\u6210\u306e\u53c2\u8003\u306b\u3057\u307e\u3059"})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:" \u5e0c\u671b\u5c31\u52b4\u6642\u9593"}),Object(B.jsxs)("td",{children:[" ",u.desired_working_time,"h"]}),Object(B.jsx)("td",{children:"\u30b7\u30d5\u30c8\u4f5c\u6210\u306e\u53c2\u8003\u306b\u3057\u307e\u3059"})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:" \u901a\u52e4\u65b9\u6cd5"}),Object(B.jsxs)("td",{children:[" ",u.commute]}),Object(B.jsx)("td",{})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:" \u6700\u5bc4\u308a\u99c5"}),Object(B.jsxs)("td",{children:[" ",u.station]}),Object(B.jsx)("td",{children:" \u6700\u77ed\u7d4c\u8def\u304c\u4ea4\u901a\u8cbb\u652f\u7d66\u984d\u3067\u3059"})]})]})]})]})]})]})},Ie=n(145);var De=function(e){var t=e.history,n=Object(c.useState)(""),a=Object(b.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)(""),j=Object(b.a)(i,2),l=j[0],o=j[1],d=Object(c.useState)(""),u=Object(b.a)(d,2),h=u[0],O=u[1],x=Object(c.useState)(""),m=Object(b.a)(x,2),p=m[0],f=m[1],v=Object(c.useState)(!1),g=Object(b.a)(v,2),y=g[0],N=g[1],_=Object(c.useState)(!1),k=Object(b.a)(_,2),C=k[0],S=k[1],w=Object(c.useState)(!1),I=Object(b.a)(w,2),D=I[0],L=I[1],E=Object(c.useState)(!1),M=Object(b.a)(E,2),F=M[0],A=M[1],G=Object(c.useState)(""),T=Object(b.a)(G,2),H=T[0],z=T[1],q=Object(c.useState)(""),P=Object(b.a)(q,2),U=P[0],Y=P[1],J=Object(c.useState)(""),V=Object(b.a)(J,2),K=V[0],X=V[1],Z=Object(c.useState)(""),$=Object(b.a)(Z,2),ee=$[0],ce=$[1],se=Object(c.useState)(""),ie=Object(b.a)(se,2),le=ie[0],oe=ie[1],ue=Object(c.useState)(""),he=Object(b.a)(ue,2),xe=he[0],me=he[1],pe=Object(c.useState)(!1),fe=Object(b.a)(pe,2),ge=fe[0],ye=fe[1],Ne=R().userInfo,_e=Q(),ke=W().profile;Object(c.useEffect)((function(){Ne?(re(_e,Ne),ke.name?r(ke.name):r("\u540d\u524d\u304c\u3042\u308a\u307e\u305b\u3093"),ke.duty?o(ke.duty):o(""),ke.employment_status?f(ke.employment_status):f(""),ke.section?O(ke.section):O(""),ke.is_rookie?N(ke.is_rookie):N(!1),ke.is_open_staff?S(ke.is_open_staff):S(!1),ke.is_pre_close_staff?L(ke.is_pre_close_staff):L(!1),ke.is_close_staff?A(ke.is_close_staff):A(!1),ke.start_default?z(ke.start_default):z(""),ke.end_default?Y(ke.end_default):Y(""),ke.desired_times_per_week?X(ke.desired_times_per_week):X(0),ke.desired_working_time?ce(ke.desired_working_time):ce(0),ke.commute?oe(ke.commute):oe(""),ke.station?me(ke.station):me("")):t.push("/login"),H||U||(z(ke.start_default.substring(0,5)),Y(ke.end_default.substring(0,5)))}),[t,Ne,_e]);var Ce=function(){var e=Object(ne.a)(te.a.mark((function e(n){var c,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),ye(!0),c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(Ne.token)}},e.next=5,ae.a.put("/api/users/update/profile/",{name:s,duty:l,employment:p,section:h,isRookie:y,isOpen:C,isPreClose:D,isClose:F,startDefault:H,endDefault:U,weeklyTime:K,workTime:ee,commute:le,station:xe},c);case 5:a=e.sent,a.data,t.push("/profile");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(je.Link,{to:"/profile",className:"btn my-2",style:{background:"#999999"},children:"\uff1c \u623b\u308b"}),Object(B.jsx)(Oe,{children:Object(B.jsxs)(de.a,{onSubmit:Ce,className:"border p-3",children:[Object(B.jsxs)(de.a.Group,{controlId:"name",children:[Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u540d\u524d"}),Object(B.jsx)(de.a.Control,{required:!0,type:"name",placeholder:"\u540d\u524d\u3092\u8a18\u5165",value:s,onChange:function(e){return r(e.target.value)}})]}),Object(B.jsxs)(de.a.Group,{controlId:"duty",children:[Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u8077\u52d9"}),Object(B.jsxs)(de.a.Control,{required:!0,as:"select",value:l,onChange:function(e){return o(e.target.value)},style:{cursor:"pointer"},children:[Object(B.jsx)("option",{value:"\u6b63\u793e\u54e1",children:"\u6b63\u793e\u54e1"}),Object(B.jsx)("option",{value:"\u30a2\u30eb\u30d0\u30a4\u30c8\u30ea\u30fc\u30c0\u30fc",children:"\u30a2\u30eb\u30d0\u30a4\u30c8\u30ea\u30fc\u30c0\u30fc"}),Object(B.jsx)("option",{value:"\u30a2\u30eb\u30d0\u30a4\u30c8",children:"\u30a2\u30eb\u30d0\u30a4\u30c8"}),Object(B.jsx)("option",{value:"",children:"\u300c\u8077\u52d9\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]}),Object(B.jsxs)(de.a.Group,{controlId:"employment",children:[Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u96c7\u7528\u5f62\u614b"}),Object(B.jsxs)(de.a.Control,{required:!0,as:"select",value:p,onChange:function(e){return f(e.target.value)},style:{cursor:"pointer"},children:[Object(B.jsx)("option",{value:"\u6b63\u793e\u54e1",children:"\u6b63\u793e\u54e1"}),Object(B.jsx)("option",{value:"\u30d5\u30ea\u30fc\u30bf\u30fc\uff08\u903140\u6642\u9593\uff09",children:"\u30d5\u30ea\u30fc\u30bf\u30fc\uff08\u903140\u6642\u9593\uff09"}),Object(B.jsx)("option",{value:"\u30d5\u30ea\u30fc\u30bf\u30fc\uff08\u903120\u6642\u9593\uff09",children:"\u30d5\u30ea\u30fc\u30bf\u30fc\uff08\u903120\u6642\u9593\uff09"}),Object(B.jsx)("option",{value:"\u5b66\u751f",children:"\u5b66\u751f"}),Object(B.jsx)("option",{value:"",children:"\u300c\u96c7\u7528\u5f62\u614b\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]}),Object(B.jsxs)(de.a.Group,{controlId:"section",children:[Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u30bb\u30af\u30b7\u30e7\u30f3"}),Object(B.jsxs)(de.a.Control,{required:!0,as:"select",value:h,onChange:function(e){return O(e.target.value)},style:{cursor:"pointer"},children:[Object(B.jsx)("option",{value:"\u30d5\u30ed\u30f3\u30c8",children:"\u30d5\u30ed\u30f3\u30c8"}),Object(B.jsx)("option",{value:"\u6620\u5199",children:"\u6620\u5199"}),Object(B.jsx)("option",{value:"\u30b3\u30f3\u30bb\u30c3\u30b7\u30e7\u30f3",children:"\u30b3\u30f3\u30bb\u30c3\u30b7\u30e7\u30f3"}),Object(B.jsx)("option",{value:"\u30dc\u30c3\u30af\u30b9",children:"\u30dc\u30c3\u30af\u30b9"}),Object(B.jsx)("option",{value:"\u30b7\u30e7\u30c3\u30d7",children:"\u30b7\u30e7\u30c3\u30d7"}),Object(B.jsx)("option",{value:"",children:"\u300c\u30bb\u30af\u30b7\u30e7\u30f3\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]}),Object(B.jsxs)(de.a.Group,{controlId:"isRookie",children:[Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u7814\u4fee"}),Object(B.jsxs)(de.a.Control,{required:!0,as:"select",value:y,onChange:function(){return N(!y)},style:{cursor:"pointer"},children:[Object(B.jsx)("option",{value:!0,children:"\u7814\u4fee\u4e2d"}),Object(B.jsx)("option",{value:!1,children:"\u5b8c\u4e86"})]})]}),Object(B.jsxs)(de.a.Group,{controlId:"isOpen",children:[Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u30aa\u30fc\u30d7\u30f3"}),Object(B.jsxs)(de.a.Control,{required:!0,as:"select",value:C,onChange:function(){return S(!C)},style:{cursor:"pointer"},children:[Object(B.jsx)("option",{value:!0,children:"\u53ef"}),Object(B.jsx)("option",{value:!1,children:"\u4e0d\u53ef"})]})]}),Object(B.jsxs)(de.a.Group,{controlId:"isPreClose",children:[Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"10\u6642\u7de0\u3081"}),Object(B.jsxs)(de.a.Control,{required:!0,as:"select",value:D,onChange:function(){return L(!D)},style:{cursor:"pointer"},children:[Object(B.jsx)("option",{value:!0,children:"\u53ef"}),Object(B.jsx)("option",{value:!1,children:"\u4e0d\u53ef"})]})]}),Object(B.jsxs)(de.a.Group,{controlId:"isClose",children:[Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u7de0\u3081"}),Object(B.jsxs)(de.a.Control,{required:!0,as:"select",value:F,onChange:function(){return A(!F)},style:{cursor:"pointer"},children:[Object(B.jsx)("option",{value:!0,children:"\u53ef"}),Object(B.jsx)("option",{value:!1,children:"\u4e0d\u53ef"})]})]}),Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u901a\u5e38\u696d\u52d9\u958b\u59cb\u6642\u9593"}),Object(B.jsx)(Ie.a,{placeholder:"\u958b\u59cb\u6642\u9593\u3092\u9078\u629e",value:H,min:new Date("01/01/2021 07:00 AM"),format:"HH:mm",step:30,change:function(e){return z(e.text)},openOnFocus:!0,strictMode:!0,showClearButton:!1,allowEdit:!1,style:{cursor:"pointer"}}),Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u901a\u5e38\u696d\u52d9\u7d42\u4e86\u6642\u9593"}),Object(B.jsx)(Ie.a,{placeholder:"\u7d42\u4e86\u6642\u9593\u3092\u9078\u629e",value:U,min:new Date("01/01/2021 "+H),format:"HH:mm",step:30,change:function(e){return Y(e.text)},openOnFocus:!0,strictMode:!0,showClearButton:!1,allowEdit:!1,style:{cursor:"pointer"}}),Object(B.jsxs)(de.a.Group,{controlId:"weeklyWork",children:[Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u9031\u9593\u5e0c\u671b\u30b7\u30d5\u30c8\u56de\u6570"}),Object(B.jsxs)(de.a.Control,{required:!0,as:"select",value:K,onChange:function(e){return X(e.target.value)},style:{cursor:"pointer"},children:[Object(B.jsx)("option",{value:1,children:"1\u56de"}),Object(B.jsx)("option",{value:2,children:"2\u56de"}),Object(B.jsx)("option",{value:3,children:"3\u56de"}),Object(B.jsx)("option",{value:4,children:"4\u56de"}),Object(B.jsx)("option",{value:5,children:"5\u56de"}),Object(B.jsx)("option",{value:0,children:"\u300c\u9031\u9593\u5e0c\u671b\u30b7\u30d5\u30c8\u56de\u6570\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]}),Object(B.jsxs)(de.a.Group,{controlId:"workTime",children:[Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u5e0c\u671b\u5c31\u52b4\u6642\u9593"}),Object(B.jsxs)(de.a.Control,{required:!0,as:"select",value:ee,onChange:function(e){return ce(e.target.value)},style:{cursor:"pointer"},children:[Object(B.jsx)("option",{value:3,children:"3h"}),Object(B.jsx)("option",{value:4,children:"4h"}),Object(B.jsx)("option",{value:5,children:"5h"}),Object(B.jsx)("option",{value:6,children:"6h"}),Object(B.jsx)("option",{value:7,children:"7h"}),Object(B.jsx)("option",{value:8,children:"8h"}),Object(B.jsx)("option",{value:0,children:"\u300c\u5e0c\u671b\u5c31\u52b4\u6642\u9593\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]}),Object(B.jsxs)(de.a.Group,{controlId:"commute",children:[Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u901a\u52e4\u65b9\u6cd5"}),Object(B.jsxs)(de.a.Control,{required:!0,as:"select",value:le,onChange:function(e){return oe(e.target.value)},style:{cursor:"pointer"},children:[Object(B.jsx)("option",{value:"\u96fb\u8eca",children:"\u96fb\u8eca"}),Object(B.jsx)("option",{value:"\u30d0\u30b9",children:"\u30d0\u30b9"}),Object(B.jsx)("option",{value:"\u5f92\u6b69",children:"\u5f92\u6b69"}),Object(B.jsx)("option",{value:"\u81ea\u8ee2\u8eca",children:"\u81ea\u8ee2\u8eca"}),Object(B.jsx)("option",{value:"",children:"\u300c\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]}),Object(B.jsxs)(de.a.Group,{controlId:"station",children:[Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u6700\u5bc4\u308a\u99c5"}),Object(B.jsx)(de.a.Control,{type:"text",placeholder:"\u6700\u5bc4\u308a\u99c5\u3092\u5165\u529b",value:xe,onChange:function(e){return me(e.target.value)}})]}),ge?Object(B.jsx)(ve,{}):Object(B.jsx)(be.a,{type:"submit",variant:"primary",size:"lg",className:"mt-4",children:"\u66f4\u65b0"})]})})]})},Le=n(150),Ee=n(48),Me=Ee.startOfMonth,Fe=Ee.startOfWeek,Ae=Ee.endOfMonth,Ge=Ee.endOfWeek,Be=Ee.startOfDay,Te=Ee.addDays,He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=Fe(Be(e,1));return function(){var e=Object(N.a)(Array(7)).map((function(e,n){return Te(t,n)}));return t=Te(e[6],1),e}},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=[],n=e,c=function(e){return e[e.length-1][6]};return function(){var e=He(Me(n)),a=Be(Ge(Ae(n)));for(t.push(e());c(t)<a;)t.push(e());var s=t;return t=[],n=Te(c(s),1),s}};var qe=function(e){var t=e.history,n=e.match,s=n.params.id,r=Object(c.useState)([]),i=Object(b.a)(r,2),j=i[0],l=i[1],o=Object(c.useState)(!0),d=Object(b.a)(o,2),u=d[0],h=d[1],O=R().userInfo,x=["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],m=ze(new Date(String(j.period_start)))();return Object(c.useEffect)((function(){if(O){var e=function(){var e=Object(ne.a)(te.a.mark((function e(){var t,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,ae.a.get("/api/shifts/confirm/".concat(s,"/"),n);case 3:t=e.sent,c=t.data,l(c),h(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(O.token)}};e()}else t.push("/login")}),[O,t,n]),Object(B.jsxs)("div",{children:[Object(B.jsx)(je.Link,{to:"/profile",className:"btn my-2",style:{background:"#999999"},children:"\uff1c \u623b\u308b"}),Object(B.jsx)("h1",{className:"p-4",children:"\u30b7\u30d5\u30c8\u78ba\u8a8d"}),u?Object(B.jsx)(ve,{}):Object(B.jsxs)("div",{className:"text-center",children:[Object(B.jsxs)("h4",{style:{borderBottom:"1px solid",display:"inline-block"},children:[m[0][6].getFullYear(),"/",m[0][6].getMonth()+1]}),Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(ue.a,{className:"text-center my-4",children:m.map((function(e,t){return Object(B.jsx)(a.a.Fragment,{children:e.map((function(e,t){return Object(B.jsx)(a.a.Fragment,{children:e.getMonth()===m[0][6].getMonth()&&Object(B.jsx)(he.a,{className:"my-1",xs:6,sm:6,md:4,lg:3,xl:2,children:Object(B.jsxs)(Le.a,{style:{width:"11rem",height:"10rem"},children:[Object(B.jsxs)(Le.a.Header,{children:[e.getMonth()+1," / ",e.getDate()," (",x[e.getDay()],")"]}),Object(B.jsx)(Le.a.Body,{children:j.shiftItems.map((function(t){return Object(B.jsx)("div",{children:t.date===Object(Se.a)(e,"yyyy-MM-dd")&&Object(B.jsxs)("div",{children:[Object(B.jsx)(Le.a.Title,{style:{color:"#0405B5"},children:Object(B.jsx)("b",{children:"\u51fa\u52e4"})}),Object(B.jsxs)(Le.a.Text,{children:[t.start_time.substring(0,5)," ","~"," ",t.end_time.substring(0,5)]})]})},t._id)}))})]})},t)},t)}))},t)}))})})]})]})};var Re=function(e){var t,n=e.shiftItem,a=e.date,s=Object(c.useState)(!1),r=Object(b.a)(s,2),i=r[0],l=r[1],o=Object(c.useState)(!1),d=Object(b.a)(o,2),u=d[0],h=d[1],O=Object(c.useState)(""),x=Object(b.a)(O,2),m=x[0],p=x[1],f=Object(c.useState)(""),v=Object(b.a)(f,2),g=v[0],y=v[1],N=Object(c.useState)(!0),_=Object(b.a)(N,2),k=_[0],C=_[1],S=$(),w=W().profile;return Object(c.useEffect)((function(){n&&k?(l(n.is_work),h(n.is_all_day),p(String(n.start_time).substring(0,5)),y(String(n.end_time).substring(0,5)),C(!1)):u?(p("07:00"),y("23:30")):m||g||(p(w.start_default.substring(0,5)),y(w.end_default.substring(0,5))),a&&!i&&_e(S,a),i&&a&&m&&g&&Ne(S,a,i,m,g,u)}),[u,i,a,m,g,k,w,n,S]),Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(j.a,{style:{color:(t=i,t?"dodgerblue":"")},children:Object(B.jsx)(de.a.Group,{children:m||g?Object(B.jsxs)("div",{children:[Object(B.jsx)(de.a.Label,{className:"m-0",children:"\u51fa\u6b20"}),Object(B.jsxs)(de.a.Control,{as:"select",value:i,onChange:function(e){l(!i)},className:"mb-3",style:{cursor:"pointer"},children:[Object(B.jsx)("option",{value:!1,children:"\u2613"}),Object(B.jsx)("option",{value:!0,children:"\u25cb"})]}),Object(B.jsx)(de.a.Label,{className:"mb-0",children:"\u958b\u59cb\u6642\u9593"}),Object(B.jsx)(Ie.a,{placeholder:"\u958b\u59cb\u6642\u9593\u3092\u9078\u629e",value:m,min:new Date("01/01/2021 07:00 AM"),format:"HH:mm",step:30,change:function(e){return p(e.text)},enabled:!u&&i,openOnFocus:!u,strictMode:!0,showClearButton:!1,allowEdit:!1,style:{cursor:"pointer"}}),Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u7d42\u4e86\u6642\u9593"}),Object(B.jsx)(Ie.a,{placeholder:"\u7d42\u4e86\u6642\u9593\u3092\u9078\u629e",value:g,min:new Date("01/01/2021 "+m),format:"HH:mm",step:30,change:function(e){return y(e.text)},enabled:!u&&i,openOnFocus:!u,strictMode:!0,showClearButton:!1,allowEdit:!1,style:{cursor:"pointer"}}),Object(B.jsx)(de.a.Group,{className:"my-3",controlId:"formBasicCheckbox",children:Object(B.jsx)(de.a.Check,{disabled:!i,type:"checkbox",label:"\u7d42\u65e5",checked:u,onChange:function(){return h(!u)},className:"text-left"})})]}):Object(B.jsx)(ve,{})})})})};var Pe=function(e){var t=e.history,n=e.match,s=R().userInfo,r=Z().shiftItems,i=n.params.id,j=Object(c.useState)([]),l=Object(b.a)(j,2),o=l[0],d=l[1],u=Object(c.useState)([]),h=Object(b.a)(u,2),O=h[0],x=h[1],m=Object(c.useState)([]),p=Object(b.a)(m,2),f=p[0],v=p[1],g=Object(c.useState)(!0),y=Object(b.a)(g,2),N=y[0],_=y[1],k=Object(c.useState)(!1),C=Object(b.a)(k,2),S=C[0],w=C[1],I=["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)};Object(c.useEffect)((function(){if(s){var e=function(){var e=Object(ne.a)(te.a.mark((function e(){var t,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.get("/api/shifts/confirm/".concat(i,"/"),n);case 2:t=e.sent,c=t.data,d(c),x(c.remarks),v(ze(new Date(String(c.period_start)))()),_(!1),console.log(c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}};e()}else t.push("/login")}),[s,t,n]);var L=function(){var e=Object(ne.a)(te.a.mark((function e(n){var c,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),w(!0),c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},e.next=5,ae.a.put("/api/shifts/shift-update/".concat(i,"/"),{shiftItems:r,remarks:O},c);case 5:a=e.sent,a.data,s.isAdmin?t.push("/admin/shiftlist?section=".concat(o.section,"&period=").concat(o.period_start.substring(0,7))):t.push("/profile");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{children:[s?!N&&s.isAdmin&&Object(B.jsxs)(je.Link,{to:"/admin/shiftlist?section=".concat(o.section,"&period=").concat(o.period_start.substring(0,7)),className:"btn m-2",style:{background:"#999999"},children:["\uff1c \u30b7\u30d5\u30c8\u4e00\u89a7\u306b\u623b\u308b\uff08",o.section,"/",o.period_start.substring(0,7),"\uff09"]}):Object(B.jsx)(B.Fragment,{}),Object(B.jsx)(je.Link,{to:"/profile",className:"btn m-2",style:{background:"#999999"},children:"\uff1c \u30db\u30fc\u30e0\u306b\u623b\u308b"}),Object(B.jsx)("h1",{className:"p-4",children:"\u30b7\u30d5\u30c8\u66f4\u65b0"}),N?Object(B.jsx)(ve,{}):Object(B.jsxs)("div",{className:"text-center",children:[Object(B.jsxs)("h4",{style:{borderBottom:"1px solid",display:"inline-block"},children:[f[0][6].getFullYear(),"/",f[0][6].getMonth()+1]}),Object(B.jsxs)(de.a,{onSubmit:L,children:[Object(B.jsx)(ue.a,{className:"my-5 border",children:f.map((function(e,t){return Object(B.jsx)(a.a.Fragment,{children:e.map((function(e,t){return Object(B.jsx)(a.a.Fragment,{children:e.getMonth()===f[0][6].getMonth()&&Object(B.jsx)(he.a,{className:"my-1",xs:6,sm:6,md:4,lg:3,xl:2,children:Object(B.jsxs)(Le.a,{className:"mx-auto my-2",children:[Object(B.jsxs)(Le.a.Header,{children:[e.getMonth()+1," / ",e.getDate()," (",I[e.getDay()],")"]}),Object(B.jsx)(Le.a.Body,{children:Object(B.jsx)(Re,{date:D(e),shiftItem:o.shiftItems.find((function(t){return t.date===D(e)}))})})]})})},t)}))},t)}))}),Object(B.jsxs)(ue.a,{className:"p-3 mb-5",children:[Object(B.jsx)(he.a,{md:8,children:Object(B.jsxs)(de.a.Group,{controlId:"remarks",children:[Object(B.jsx)(de.a.Label,{children:"\u5099\u8003"}),Object(B.jsx)(de.a.Control,{as:"textarea",row:"5",placeholder:"\u4eca\u56de\u306e\u30b7\u30d5\u30c8\u306b\u95a2\u3057\u3066\u306a\u306b\u304b\u5e0c\u671b\u304c\u3042\u308c\u3070\u8a18\u8ff0\u3057\u3066\u304f\u3060\u3055\u3044",value:O,onChange:function(e){return x(e.target.value)}})]})}),Object(B.jsx)(he.a,{md:4,className:"d-grid gap-2 mt-4",children:S?Object(B.jsx)(ve,{}):Object(B.jsx)(be.a,{type:"submit",variant:"primary",size:"lg",children:"\u66f4\u65b0"})})]})]})]})]})};var Ue=function(e){var t,n=e.history,a=e.date,s=Object(c.useState)(!1),r=Object(b.a)(s,2),i=r[0],l=r[1],o=Object(c.useState)(!1),d=Object(b.a)(o,2),u=d[0],h=d[1],O=Object(c.useState)(""),x=Object(b.a)(O,2),m=x[0],p=x[1],f=Object(c.useState)(""),v=Object(b.a)(f,2),g=v[0],y=v[1],N=W().profile,_=$(),k=function(e){return e?"pointer":"not-allowed"};return Object(c.useEffect)((function(){u?(p("07:00"),y("23:30")):m||g||(p(N.start_default.substring(0,5)),y(N.end_default.substring(0,5))),a&&!i&&_e(_,a),i&&a&&m&&g&&Ne(_,a,i,m,g,u)}),[n,u,i,a,m,g,N,_]),Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(j.a,{style:{color:(t=i,t?"dodgerblue":"")},children:Object(B.jsxs)(de.a.Group,{children:[Object(B.jsx)(de.a.Label,{className:"m-0",children:"\u51fa\u6b20"}),Object(B.jsxs)(de.a.Control,{as:"select",value:i,onChange:function(e){l(!i)},className:"mb-3",style:{cursor:"pointer"},children:[Object(B.jsx)("option",{value:!1,children:"\u2613"}),Object(B.jsx)("option",{value:!0,children:"\u25cb"})]}),m||g?Object(B.jsxs)("div",{children:[Object(B.jsx)(de.a.Label,{className:"mb-0",children:"\u958b\u59cb\u6642\u9593"}),Object(B.jsx)(Ie.a,{placeholder:"\u958b\u59cb\u6642\u9593\u3092\u9078\u629e",value:m,min:new Date("01/01/2021 07:00 AM"),format:"HH:mm",step:30,change:function(e){return p(e.text)},enabled:!u&&i,openOnFocus:!u,strictMode:!0,showClearButton:!1,allowEdit:!1,style:{cursor:k(i)}}),Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u7d42\u4e86\u6642\u9593"}),Object(B.jsx)(Ie.a,{placeholder:"\u7d42\u4e86\u6642\u9593\u3092\u9078\u629e",value:g,min:new Date("01/01/2021 "+m),format:"HH:mm",step:30,change:function(e){return y(e.text)},enabled:!u&&i,openOnFocus:!u,strictMode:!0,showClearButton:!1,allowEdit:!1,style:{cursor:k(i)}}),Object(B.jsx)(de.a.Group,{className:"my-3",controlId:"formBasicCheckbox",children:Object(B.jsx)(de.a.Check,{disabled:!i,type:"checkbox",label:"\u7d42\u65e5",onChange:function(){return h(!u)},className:"text-left"})})]}):Object(B.jsx)(ve,{})]})})})};var Ye=function(e){var t=e.history,n=R().userInfo,s=W().profile,r=Z(),i=r.shiftItems,j=r.period,l=r.isSubmitted,o=Object(c.useState)(""),d=Object(b.a)(o,2),u=d[0],h=d[1],O=Object(c.useState)(!1),x=Object(b.a)(O,2),m=x[0],p=x[1],f=["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],v=ze(j[0])(),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)};Object(c.useEffect)((function(){n?l&&t.push("/profile"):t.push("/login")}),[n,t]);var y=function(){var e=Object(ne.a)(te.a.mark((function e(c){var a,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),p(!0),a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},e.next=5,ae.a.post("/api/shifts/shift/create/",{shiftItems:i,section:s.section,periodStart:g(j[0]),periodEnd:g(j[1]),remarks:u,isSubmitted:!0},a);case 5:r=e.sent,r.data,t.push("/profile");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{children:[Object(B.jsx)(je.Link,{to:"/profile",className:"btn my-2",style:{background:"#999999"},children:"\uff1c \u623b\u308b"}),Object(B.jsx)("h1",{className:"p-4",children:"\u65b0\u898f\u30b7\u30d5\u30c8\u63d0\u51fa"}),Object(B.jsxs)("div",{className:"text-center",children:[Object(B.jsxs)("h4",{style:{borderBottom:"1px solid",display:"inline-block"},children:[v[0][6].getFullYear(),"/",v[0][6].getMonth()+1]}),Object(B.jsxs)(de.a,{onSubmit:y,children:[Object(B.jsx)(ue.a,{className:"my-5 border",children:v.map((function(e,t){return Object(B.jsx)(a.a.Fragment,{children:e.map((function(e,t){return Object(B.jsx)(a.a.Fragment,{children:e.getMonth()===v[0][6].getMonth()&&Object(B.jsx)(he.a,{className:"my-1",xs:6,sm:6,md:4,lg:3,xl:2,children:Object(B.jsxs)(Le.a,{className:"mx-auto my-2",children:[Object(B.jsxs)(Le.a.Header,{children:[e.getMonth()+1," / ",e.getDate()," (",f[e.getDay()],")"]}),Object(B.jsx)(Le.a.Body,{children:Object(B.jsx)(Ue,{date:g(e)})})]})})},t)}))},t)}))}),Object(B.jsxs)(ue.a,{className:"p-3 mb-5",children:[Object(B.jsx)(he.a,{md:8,children:Object(B.jsxs)(de.a.Group,{controlId:"remarks",children:[Object(B.jsx)(de.a.Label,{children:"\u5099\u8003"}),Object(B.jsx)(de.a.Control,{as:"textarea",row:"5",placeholder:"\u4eca\u56de\u306e\u30b7\u30d5\u30c8\u306b\u95a2\u3057\u3066\u306a\u306b\u304b\u5e0c\u671b\u304c\u3042\u308c\u3070\u8a18\u8ff0\u3057\u3066\u304f\u3060\u3055\u3044",value:u,onChange:function(e){return h(e.target.value)}})]})}),Object(B.jsx)(he.a,{md:4,className:"d-grid gap-2 mt-4",children:m?Object(B.jsx)(ve,{}):Object(B.jsx)(be.a,{type:"submit",variant:"primary",size:"lg",children:"\u63d0\u51fa"})})]})]})]})]})},Je=n(38);var We=function(e){var t=e.history,n=Object(c.useState)([]),a=Object(b.a)(n,2),s=a[0],r=a[1],i=R().userInfo,l=P(),o=Q(),u=W(),h=u.profile,O=u.loading,x=Z(),m=x.period,p=x.deadline,f=x.isSubmitted,v=x.loading,g=$(),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)};return Object(c.useEffect)((function(){if(window.addEventListener("popstate",(function(e){"POP"===t.action&&t.go(0)})),i){var e=function(){var e=Object(ne.a)(te.a.mark((function e(){var t,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g({type:_}),e.next=3,ae.a.get("/api/shifts/myshifts/",n);case 3:t=e.sent,c=t.data,r(c),g({type:k});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();re(o,i);var n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(i.token)}};e()}else{se("demo@email.com","demo1234",l)}}),[t,i,f,m,o,l,g]),Object(B.jsxs)("div",{children:[Object(B.jsxs)("h1",{children:["\u3088\u3046\u3053\u305d ",h.name," \u3055\u3093"]}),Object(B.jsxs)(ue.a,{className:"py-3",children:[v?Object(B.jsx)(ve,{}):Object(B.jsxs)(he.a,{md:5,sm:12,className:"py-2",children:[Object(B.jsx)("h4",{children:"\u30b7\u30d5\u30c8\u63d0\u51fa"}),Object(B.jsxs)(j.a,{className:"border",children:[Object(B.jsx)(d.LinkContainer,{to:"/demo/shift/submit",className:"d-grid gap-2 my-3 p-1",children:Object(B.jsxs)(be.a,{className:"btn-lg",variant:"outline-primary",disabled:f||new Date>p,children:["\u4eca\u6708\u306e\u63d0\u51fa\u5206\u306f\u3053\u3061\u3089\u304b\u3089 ",Object(B.jsxs)("p",{className:"m-0",children:[y(m[0])," ~ ",y(m[1])]})]})}),Object(B.jsxs)("p",{className:"my-0 py-0",children:["\u63d0\u51fa\u72b6\u614b\uff1a ",f?Object(B.jsx)("i",{style:{color:"blue"},children:"\u63d0\u51fa\u6e08\u307f"}):Object(B.jsx)("i",{style:{color:"red"},children:"\u672a\u63d0\u51fa"})]}),Object(B.jsxs)("p",{className:"my-0 py-0",children:["\u63d0\u51fa\u671f\u9650\uff1a ",String(Object(Se.a)(p,"yyyy-MM-dd' 'HH:mm"))," \u307e\u3067"]}),!f&&new Date>p&&Object(B.jsx)(me,{variant:"danger",children:"\u671f\u9650\u5185\u306b\u63d0\u51fa\u3067\u304d\u3066\u3044\u307e\u305b\u3093 \u2192 \u62c5\u5f53\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u306b\u9023\u7d61\uff01"})]}),Object(B.jsx)("h4",{className:"mt-5",children:"\u30b7\u30d5\u30c8\u7ba1\u7406"}),0===s.length?Object(B.jsx)(me,{variant:"info",children:"\u30b7\u30d5\u30c8\u304c\u3042\u308a\u307e\u305b\u3093"}):Object(B.jsxs)(ye.a,{striped:!0,hover:!0,responsive:!0,className:"table-sm border",children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"ID"}),Object(B.jsx)("th",{children:"PERIOD"}),Object(B.jsx)("th",{children:"STATUS"}),Object(B.jsx)("th",{})]})}),Object(B.jsx)("tbody",{children:s.map((function(e){return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:e._id}),Object(B.jsxs)("td",{children:[e.period_start," "," "," ~ "," ",e.period_end]}),Object(B.jsx)("td",{children:e.is_confirmed?"\u78ba\u5b9a":"\u672a\u78ba\u5b9a"}),Object(B.jsx)("td",{children:e.is_confirmed?Object(B.jsx)(d.LinkContainer,{to:"/demo/shifts/confirm/".concat(e._id),children:Object(B.jsx)(be.a,{className:"btn-sm",variant:"outline-primary",children:"\u8a73\u7d30"})}):Object(B.jsx)(d.LinkContainer,{to:"/demo/shifts/update/".concat(e._id),children:Object(B.jsx)(be.a,{className:"btn-sm",variant:"outline-info",children:"\u66f4\u65b0"})})})]},e._id)}))})]})]}),O?Object(B.jsx)(ve,{}):Object(B.jsxs)(he.a,{md:7,sm:12,className:"py-2",children:[Object(B.jsxs)(ue.a,{children:[Object(B.jsx)(he.a,{md:10,sm:10,xs:10,children:Object(B.jsx)("h4",{children:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb"})}),Object(B.jsx)(he.a,{md:2,sm:2,xs:2,className:"m-0 px-0 pb-2 text-center",children:Object(B.jsx)(d.LinkContainer,{to:"/demo/update/profile",children:Object(B.jsx)(be.a,{variant:"outline-secondary",className:"btn-sm",children:"\u7de8\u96c6"})})})]}),Object(B.jsxs)(ye.a,{striped:!0,hover:!0,responsive:!0,size:"sm",className:"border",children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"Key"}),Object(B.jsx)("th",{children:"Value"}),Object(B.jsx)("th",{children:"Remarks"})]})}),Object(B.jsxs)("tbody",{children:[Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:"ID"}),Object(B.jsx)("td",{children:h._id}),Object(B.jsx)("td",{})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:"\u540d\u524d"}),Object(B.jsx)("td",{children:h.name}),Object(B.jsx)("td",{})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:"\u8077\u52d9"}),Object(B.jsx)("td",{children:h.duty}),Object(B.jsx)("td",{})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:"\u30bb\u30af\u30b7\u30e7\u30f3"}),Object(B.jsx)("td",{children:h.section}),Object(B.jsx)("td",{})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:"\u96c7\u7528\u5f62\u614b"}),Object(B.jsx)("td",{children:h.employment_status}),Object(B.jsx)("td",{})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:"\u7814\u4fee\u4e2d"}),Object(B.jsx)("td",{children:h.is_rookie?"\u7814\u4fee\u4e2d":"\u4fee\u4e86"}),Object(B.jsx)("td",{})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:"\u30aa\u30fc\u30d7\u30f3"}),Object(B.jsx)("td",{children:h.is_open_staff?"\u53ef":"\u4e0d\u53ef"}),Object(B.jsx)("td",{})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:"10\u6642\u7de0\u3081"}),Object(B.jsx)("td",{children:h.is_pre_close_staff?"\u53ef":"\u4e0d\u53ef"}),Object(B.jsx)("td",{})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:"\u7de0\u3081"}),Object(B.jsx)("td",{children:h.is_close_staff?"\u53ef":"\u4e0d\u53ef"}),Object(B.jsx)("td",{})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:" \u696d\u52d9\u958b\u59cb\u6642\u9593"}),Object(B.jsxs)("td",{children:[" ",h.start_default.substring(0,5)]}),Object(B.jsx)("td",{children:"\u63d0\u51fa\u6642\u306e\u521d\u671f\u5024\u3068\u306a\u308a\u307e\u3059"})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:" \u696d\u52d9\u7d42\u4e86\u6642\u9593"}),Object(B.jsxs)("td",{children:[" ",h.end_default.substring(0,5)]}),Object(B.jsx)("td",{children:"\u63d0\u51fa\u6642\u306e\u521d\u671f\u5024\u3068\u306a\u308a\u307e\u3059"})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:" \u9031\u9593\u5e0c\u671b\u30b7\u30d5\u30c8\u56de\u6570"}),Object(B.jsxs)("td",{children:[" \u9031",h.desired_times_per_week]}),Object(B.jsx)("td",{children:"\u30b7\u30d5\u30c8\u4f5c\u6210\u306e\u53c2\u8003\u306b\u3057\u307e\u3059"})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:" \u5e0c\u671b\u5c31\u52b4\u6642\u9593"}),Object(B.jsxs)("td",{children:[" ",h.desired_working_time,"h"]}),Object(B.jsx)("td",{children:"\u30b7\u30d5\u30c8\u4f5c\u6210\u306e\u53c2\u8003\u306b\u3057\u307e\u3059"})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:" \u901a\u52e4\u65b9\u6cd5"}),Object(B.jsxs)("td",{children:[" ",h.commute]}),Object(B.jsx)("td",{})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:" \u6700\u5bc4\u308a\u99c5"}),Object(B.jsxs)("td",{children:[" ",h.station]}),Object(B.jsx)("td",{children:" \u6700\u77ed\u7d4c\u8def\u304c\u4ea4\u901a\u8cbb\u652f\u7d66\u984d\u3067\u3059"})]})]})]})]})]}),Object(B.jsx)("h4",{children:"DEMO\u7528\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc"}),Object(B.jsxs)(j.a,{className:"border",children:[Object(B.jsxs)(Oe,{children:[Object(B.jsxs)(ue.a,{className:"m-3",children:[Object(B.jsx)("p",{className:"mb-0",children:"\u63d0\u51fa\u72b6\u614b"}),Object(B.jsx)(be.a,{onClick:function(){ke(g,!0)},variant:"outline-info",disabled:f,children:"\u63d0\u51fa\u6e08\u307f"}),Object(B.jsx)(be.a,{onClick:function(){ke(g,!1)},variant:"outline-danger",disabled:!f,children:"\u672a\u63d0\u51fa"})]}),Object(B.jsxs)(ue.a,{className:"m-3",children:[Object(B.jsx)("p",{className:"mb-0",children:"\u63d0\u51fa\u671f\u9650"}),Object(B.jsx)(be.a,{onClick:function(){Ce(g,Object(A.a)(Object(L.a)(Object(F.a)(new Date)),10))},variant:"outline-secondary",children:"\u30c7\u30d5\u30a9\u30eb\u30c8"}),Object(B.jsx)(be.a,{onClick:function(){Ce(g,Object(L.a)(Object(F.a)(new Date)))},variant:"outline-secondary",children:"\u6708\u672b\u3078"}),Object(B.jsx)(be.a,{onClick:function(){Ce(g,Object(Je.a)(Object(E.a)(new Date)))},variant:"outline-secondary",children:"\u6708\u59cb\u3078"})]})]}),Object(B.jsxs)(me,{variant:"info",children:["\u30fbDemo\u30e6\u30fc\u30b6\u30fc\u3067\u306f\u3001\u300c\u63d0\u51fa\u72b6\u614b\u300d\u3068\u300c\u63d0\u51fa\u671f\u9650\u300d\u3092\u81ea\u7531\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\uff08\u52d5\u4f5c\u78ba\u8a8d\u306e\u305f\u3081\uff09",Object(B.jsx)("br",{}),"\u30fb\u4e00\u822c\u306e\u30e6\u30fc\u30b6\u30fc\u3067\u306f\u3001\u300c\u63d0\u51fa\u72b6\u614b\u300d\u3068\u300c\u63d0\u51fa\u671f\u9650\u300d\u306e\u72b6\u614b\u7ba1\u7406\u3092\u81ea\u52d5\u3067\u884c\u3044\u307e\u3059\u3002"]})]})]})};var Qe=function(){return Object(B.jsx)(je.Link,{to:"/demo/profile",className:"btn my-2",style:{background:"#95a5a6"},children:"\uff1c"})};var Ve=function(e){var t=e.history,n=Object(c.useState)(""),a=Object(b.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)(""),j=Object(b.a)(i,2),l=j[0],o=j[1],d=Object(c.useState)(""),u=Object(b.a)(d,2),h=u[0],O=u[1],x=Object(c.useState)(""),m=Object(b.a)(x,2),p=m[0],f=m[1],v=Object(c.useState)(!1),g=Object(b.a)(v,2),y=g[0],N=g[1],_=Object(c.useState)(!1),k=Object(b.a)(_,2),C=k[0],S=k[1],w=Object(c.useState)(!1),I=Object(b.a)(w,2),D=I[0],L=I[1],E=Object(c.useState)(!1),M=Object(b.a)(E,2),F=M[0],A=M[1],G=Object(c.useState)(""),T=Object(b.a)(G,2),H=T[0],z=T[1],q=Object(c.useState)(""),P=Object(b.a)(q,2),U=P[0],Y=P[1],J=Object(c.useState)(""),V=Object(b.a)(J,2),K=V[0],X=V[1],Z=Object(c.useState)(""),$=Object(b.a)(Z,2),ee=$[0],ce=$[1],se=Object(c.useState)(""),ie=Object(b.a)(se,2),je=ie[0],le=ie[1],oe=Object(c.useState)(""),ue=Object(b.a)(oe,2),he=ue[0],xe=ue[1],me=Object(c.useState)(!1),pe=Object(b.a)(me,2),fe=pe[0],ge=pe[1],ye=R().userInfo,Ne=Q(),_e=W().profile;Object(c.useEffect)((function(){ye?(re(Ne,ye),_e.name?r(_e.name):r("\u540d\u524d\u304c\u3042\u308a\u307e\u305b\u3093"),_e.duty?o(_e.duty):o(""),_e.employment_status?f(_e.employment_status):f(""),_e.section?O(_e.section):O(""),_e.is_rookie?N(_e.is_rookie):N(!1),_e.is_open_staff?S(_e.is_open_staff):S(!1),_e.is_pre_close_staff?L(_e.is_pre_close_staff):L(!1),_e.is_close_staff?A(_e.is_close_staff):A(!1),_e.start_default?z(_e.start_default):z(""),_e.end_default?Y(_e.end_default):Y(""),_e.desired_times_per_week?X(_e.desired_times_per_week):X(0),_e.desired_working_time?ce(_e.desired_working_time):ce(0),_e.commute?le(_e.commute):le(""),_e.station?xe(_e.station):xe("")):t.push("/login"),H||U||(z(_e.start_default.substring(0,5)),Y(_e.end_default.substring(0,5)))}),[t,ye,Ne]);var ke=function(){var e=Object(ne.a)(te.a.mark((function e(n){var c,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),ge(!0),c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(ye.token)}},e.next=5,ae.a.put("/api/users/update/profile/",{name:s,duty:l,employment:p,section:h,isRookie:y,isOpen:C,isPreClose:D,isClose:F,startDefault:H,endDefault:U,weeklyTime:K,workTime:ee,commute:je,station:he},c);case 5:a=e.sent,a.data,t.push("/demo/profile");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Qe,{}),Object(B.jsx)(Oe,{children:Object(B.jsxs)(de.a,{onSubmit:ke,className:"border p-3",children:[Object(B.jsxs)(de.a.Group,{controlId:"name",children:[Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u540d\u524d"}),Object(B.jsx)(de.a.Control,{required:!0,disabled:!0,type:"name",placeholder:"\u540d\u524d\u3092\u8a18\u5165",value:s,onChange:function(e){return r(e.target.value)}})]}),Object(B.jsxs)(de.a.Group,{controlId:"duty",children:[Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u8077\u52d9"}),Object(B.jsxs)(de.a.Control,{required:!0,as:"select",value:l,onChange:function(e){return o(e.target.value)},style:{cursor:"pointer"},children:[Object(B.jsx)("option",{value:"\u6b63\u793e\u54e1",children:"\u6b63\u793e\u54e1"}),Object(B.jsx)("option",{value:"\u30a2\u30eb\u30d0\u30a4\u30c8\u30ea\u30fc\u30c0\u30fc",children:"\u30a2\u30eb\u30d0\u30a4\u30c8\u30ea\u30fc\u30c0\u30fc"}),Object(B.jsx)("option",{value:"\u30a2\u30eb\u30d0\u30a4\u30c8",children:"\u30a2\u30eb\u30d0\u30a4\u30c8"}),Object(B.jsx)("option",{value:"",children:"\u300c\u8077\u52d9\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]}),Object(B.jsxs)(de.a.Group,{controlId:"employment",children:[Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u96c7\u7528\u5f62\u614b"}),Object(B.jsxs)(de.a.Control,{required:!0,as:"select",value:p,onChange:function(e){return f(e.target.value)},style:{cursor:"pointer"},children:[Object(B.jsx)("option",{value:"\u6b63\u793e\u54e1",children:"\u6b63\u793e\u54e1"}),Object(B.jsx)("option",{value:"\u30d5\u30ea\u30fc\u30bf\u30fc\uff08\u903140\u6642\u9593\uff09",children:"\u30d5\u30ea\u30fc\u30bf\u30fc\uff08\u903140\u6642\u9593\uff09"}),Object(B.jsx)("option",{value:"\u30d5\u30ea\u30fc\u30bf\u30fc\uff08\u903120\u6642\u9593\uff09",children:"\u30d5\u30ea\u30fc\u30bf\u30fc\uff08\u903120\u6642\u9593\uff09"}),Object(B.jsx)("option",{value:"\u5b66\u751f",children:"\u5b66\u751f"}),Object(B.jsx)("option",{value:"",children:"\u300c\u96c7\u7528\u5f62\u614b\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]}),Object(B.jsxs)(de.a.Group,{controlId:"section",children:[Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u30bb\u30af\u30b7\u30e7\u30f3"}),Object(B.jsxs)(de.a.Control,{required:!0,as:"select",value:h,onChange:function(e){return O(e.target.value)},style:{cursor:"pointer"},children:[Object(B.jsx)("option",{value:"\u30d5\u30ed\u30f3\u30c8",children:"\u30d5\u30ed\u30f3\u30c8"}),Object(B.jsx)("option",{value:"\u30ad\u30c3\u30c1\u30f3",children:"\u30ad\u30c3\u30c1\u30f3"}),Object(B.jsx)("option",{value:"\u30c9\u30ea\u30f3\u30af",children:"\u30c9\u30ea\u30f3\u30af"}),Object(B.jsx)("option",{value:"",children:"\u300c\u30bb\u30af\u30b7\u30e7\u30f3\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]}),Object(B.jsxs)(de.a.Group,{controlId:"isRookie",children:[Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u7814\u4fee"}),Object(B.jsxs)(de.a.Control,{required:!0,as:"select",value:y,onChange:function(){return N(!y)},style:{cursor:"pointer"},children:[Object(B.jsx)("option",{value:!0,children:"\u7814\u4fee\u4e2d"}),Object(B.jsx)("option",{value:!1,children:"\u5b8c\u4e86"})]})]}),Object(B.jsxs)(de.a.Group,{controlId:"isOpen",children:[Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u30aa\u30fc\u30d7\u30f3"}),Object(B.jsxs)(de.a.Control,{required:!0,as:"select",value:C,onChange:function(){return S(!C)},style:{cursor:"pointer"},children:[Object(B.jsx)("option",{value:!0,children:"\u53ef"}),Object(B.jsx)("option",{value:!1,children:"\u4e0d\u53ef"})]})]}),Object(B.jsxs)(de.a.Group,{controlId:"isPreClose",children:[Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"10\u6642\u7de0\u3081"}),Object(B.jsxs)(de.a.Control,{required:!0,as:"select",value:D,onChange:function(){return L(!D)},style:{cursor:"pointer"},children:[Object(B.jsx)("option",{value:!0,children:"\u53ef"}),Object(B.jsx)("option",{value:!1,children:"\u4e0d\u53ef"})]})]}),Object(B.jsxs)(de.a.Group,{controlId:"isClose",children:[Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u7de0\u3081"}),Object(B.jsxs)(de.a.Control,{required:!0,as:"select",value:F,onChange:function(){return A(!F)},style:{cursor:"pointer"},children:[Object(B.jsx)("option",{value:!0,children:"\u53ef"}),Object(B.jsx)("option",{value:!1,children:"\u4e0d\u53ef"})]})]}),Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u901a\u5e38\u696d\u52d9\u958b\u59cb\u6642\u9593"}),Object(B.jsx)(Ie.a,{placeholder:"\u958b\u59cb\u6642\u9593\u3092\u9078\u629e",value:H,min:new Date("01/01/2021 07:00 AM"),format:"HH:mm",step:30,change:function(e){return z(e.text)},openOnFocus:!0,strictMode:!0,showClearButton:!1,allowEdit:!1,style:{cursor:"pointer"}}),Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u901a\u5e38\u696d\u52d9\u7d42\u4e86\u6642\u9593"}),Object(B.jsx)(Ie.a,{placeholder:"\u7d42\u4e86\u6642\u9593\u3092\u9078\u629e",value:U,min:new Date("01/01/2021 "+H),format:"HH:mm",step:30,change:function(e){return Y(e.text)},openOnFocus:!0,strictMode:!0,showClearButton:!1,allowEdit:!1,style:{cursor:"pointer"}}),Object(B.jsxs)(de.a.Group,{controlId:"weeklyWork",children:[Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u9031\u9593\u5e0c\u671b\u30b7\u30d5\u30c8\u56de\u6570"}),Object(B.jsxs)(de.a.Control,{required:!0,as:"select",value:K,onChange:function(e){return X(e.target.value)},style:{cursor:"pointer"},children:[Object(B.jsx)("option",{value:1,children:"1\u56de"}),Object(B.jsx)("option",{value:2,children:"2\u56de"}),Object(B.jsx)("option",{value:3,children:"3\u56de"}),Object(B.jsx)("option",{value:4,children:"4\u56de"}),Object(B.jsx)("option",{value:5,children:"5\u56de"}),Object(B.jsx)("option",{value:0,children:"\u300c\u9031\u9593\u5e0c\u671b\u30b7\u30d5\u30c8\u56de\u6570\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]}),Object(B.jsxs)(de.a.Group,{controlId:"workTime",children:[Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u5e0c\u671b\u5c31\u52b4\u6642\u9593"}),Object(B.jsxs)(de.a.Control,{required:!0,as:"select",value:ee,onChange:function(e){return ce(e.target.value)},style:{cursor:"pointer"},children:[Object(B.jsx)("option",{value:3,children:"3h"}),Object(B.jsx)("option",{value:4,children:"4h"}),Object(B.jsx)("option",{value:5,children:"5h"}),Object(B.jsx)("option",{value:6,children:"6h"}),Object(B.jsx)("option",{value:7,children:"7h"}),Object(B.jsx)("option",{value:8,children:"8h"}),Object(B.jsx)("option",{value:0,children:"\u300c\u5e0c\u671b\u5c31\u52b4\u6642\u9593\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]}),Object(B.jsxs)(de.a.Group,{controlId:"commute",children:[Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u901a\u52e4\u65b9\u6cd5"}),Object(B.jsxs)(de.a.Control,{required:!0,as:"select",value:je,onChange:function(e){return le(e.target.value)},style:{cursor:"pointer"},children:[Object(B.jsx)("option",{value:"\u96fb\u8eca",children:"\u96fb\u8eca"}),Object(B.jsx)("option",{value:"\u30d0\u30b9",children:"\u30d0\u30b9"}),Object(B.jsx)("option",{value:"\u5f92\u6b69",children:"\u5f92\u6b69"}),Object(B.jsx)("option",{value:"\u81ea\u8ee2\u8eca",children:"\u81ea\u8ee2\u8eca"}),Object(B.jsx)("option",{value:"",children:"\u300c\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]}),Object(B.jsxs)(de.a.Group,{controlId:"station",children:[Object(B.jsx)(de.a.Label,{className:"mt-3 mb-0",children:"\u6700\u5bc4\u308a\u99c5"}),Object(B.jsx)(de.a.Control,{type:"text",placeholder:"\u6700\u5bc4\u308a\u99c5\u3092\u5165\u529b",value:he,onChange:function(e){return xe(e.target.value)}})]}),fe?Object(B.jsx)(ve,{}):Object(B.jsx)(be.a,{type:"submit",variant:"primary",size:"lg",className:"mt-4",children:"\u66f4\u65b0"})]})})]})};var Ke=function(e){var t=e.history,n=R().userInfo,s=W().profile,r=Z(),i=r.shiftItems,j=r.period,l=r.isSubmitted,o=Object(c.useState)(""),d=Object(b.a)(o,2),u=d[0],h=d[1],O=Object(c.useState)(!1),x=Object(b.a)(O,2),m=x[0],p=x[1],f=["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],v=ze(j[0])(),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)};Object(c.useEffect)((function(){n?l&&t.push("/demo/profile"):t.push("/login")}),[n,t,l]);var y=function(){var e=Object(ne.a)(te.a.mark((function e(c){var a,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),p(!0),a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},e.next=5,ae.a.post("/api/shifts/shift/create/",{shiftItems:i,section:s.section,periodStart:g(j[0]),periodEnd:g(j[1]),remarks:u,isSubmitted:!0},a);case 5:r=e.sent,r.data,t.push("/demo/profile");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{children:[Object(B.jsx)(Qe,{}),Object(B.jsx)("h1",{className:"p-4",children:"\u65b0\u898f\u30b7\u30d5\u30c8\u63d0\u51fa"}),Object(B.jsxs)("div",{className:"text-center",children:[Object(B.jsxs)("h4",{style:{borderBottom:"1px solid",display:"inline-block"},children:[v[0][6].getFullYear(),"/",v[0][6].getMonth()+1]}),Object(B.jsxs)(de.a,{onSubmit:y,children:[Object(B.jsx)(ue.a,{className:"my-5 border",children:v.map((function(e,t){return Object(B.jsx)(a.a.Fragment,{children:e.map((function(e,t){return Object(B.jsx)(a.a.Fragment,{children:e.getMonth()===v[0][6].getMonth()&&Object(B.jsx)(he.a,{className:"my-1",xs:6,sm:6,md:4,lg:3,xl:2,children:Object(B.jsxs)(Le.a,{className:"mx-auto my-2",children:[Object(B.jsxs)(Le.a.Header,{children:[e.getMonth()+1," / ",e.getDate()," (",f[e.getDay()],")"]}),Object(B.jsx)(Le.a.Body,{children:Object(B.jsx)(Ue,{date:g(e)})})]})})},t)}))},t)}))}),Object(B.jsxs)(ue.a,{className:"p-3 mb-5",children:[Object(B.jsx)(he.a,{md:8,children:Object(B.jsxs)(de.a.Group,{controlId:"remarks",children:[Object(B.jsx)(de.a.Label,{children:"\u5099\u8003"}),Object(B.jsx)(de.a.Control,{as:"textarea",row:"5",placeholder:"\u4eca\u56de\u306e\u30b7\u30d5\u30c8\u306b\u95a2\u3057\u3066\u306a\u306b\u304b\u5e0c\u671b\u304c\u3042\u308c\u3070\u8a18\u8ff0\u3057\u3066\u304f\u3060\u3055\u3044",value:u,onChange:function(e){return h(e.target.value)}})]})}),Object(B.jsx)(he.a,{md:4,className:"d-grid gap-2 mt-4",children:m?Object(B.jsx)(ve,{}):Object(B.jsx)(be.a,{type:"submit",variant:"primary",size:"lg",children:"\u63d0\u51fa"})})]})]})]})]})};var Xe=function(e){var t=e.history,n=e.match,s=R().userInfo,r=Z().shiftItems,i=n.params.id,j=Object(c.useState)([]),l=Object(b.a)(j,2),o=l[0],d=l[1],u=Object(c.useState)([]),h=Object(b.a)(u,2),O=h[0],x=h[1],m=Object(c.useState)([]),p=Object(b.a)(m,2),f=p[0],v=p[1],g=Object(c.useState)(!0),y=Object(b.a)(g,2),N=y[0],_=y[1],k=Object(c.useState)(!1),C=Object(b.a)(k,2),S=C[0],w=C[1],I=["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)};Object(c.useEffect)((function(){if(s){var e=function(){var e=Object(ne.a)(te.a.mark((function e(){var t,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.get("/api/shifts/confirm/".concat(i,"/"),n);case 2:t=e.sent,c=t.data,d(c),x(c.remarks),v(ze(new Date(String(c.period_start)))()),_(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}};e()}else t.push("/login")}),[s,t,n,i]);var L=function(){var e=Object(ne.a)(te.a.mark((function e(n){var c,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),w(!0),c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},e.next=5,ae.a.put("/api/shifts/shift-update/".concat(i,"/"),{shiftItems:r,remarks:O},c);case 5:a=e.sent,a.data,t.push("/demo/profile");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{children:[Object(B.jsx)(Qe,{}),Object(B.jsx)("h1",{className:"p-4",children:"\u30b7\u30d5\u30c8\u66f4\u65b0"}),N?Object(B.jsx)(ve,{}):Object(B.jsxs)("div",{className:"text-center",children:[Object(B.jsxs)("h4",{style:{borderBottom:"1px solid",display:"inline-block"},children:[f[0][6].getFullYear(),"/",f[0][6].getMonth()+1]}),Object(B.jsxs)(de.a,{onSubmit:L,children:[Object(B.jsx)(ue.a,{className:"my-5 border",children:f.map((function(e,t){return Object(B.jsx)(a.a.Fragment,{children:e.map((function(e,t){return Object(B.jsx)(a.a.Fragment,{children:e.getMonth()===f[0][6].getMonth()&&Object(B.jsx)(he.a,{className:"my-1",xs:6,sm:6,md:4,lg:3,xl:2,children:Object(B.jsxs)(Le.a,{className:"mx-auto my-2",children:[Object(B.jsxs)(Le.a.Header,{children:[e.getMonth()+1," / ",e.getDate()," (",I[e.getDay()],")"]}),Object(B.jsx)(Le.a.Body,{children:Object(B.jsx)(Re,{date:D(e),shiftItem:o.shiftItems.find((function(t){return t.date===D(e)}))})})]})})},t)}))},t)}))}),Object(B.jsxs)(ue.a,{className:"p-3 mb-5",children:[Object(B.jsx)(he.a,{md:8,children:Object(B.jsxs)(de.a.Group,{controlId:"remarks",children:[Object(B.jsx)(de.a.Label,{children:"\u5099\u8003"}),Object(B.jsx)(de.a.Control,{as:"textarea",row:"5",placeholder:"\u4eca\u56de\u306e\u30b7\u30d5\u30c8\u306b\u95a2\u3057\u3066\u306a\u306b\u304b\u5e0c\u671b\u304c\u3042\u308c\u3070\u8a18\u8ff0\u3057\u3066\u304f\u3060\u3055\u3044",value:O,onChange:function(e){return x(e.target.value)}})]})}),Object(B.jsx)(he.a,{md:4,className:"d-grid gap-2 mt-4",children:S?Object(B.jsx)(ve,{}):Object(B.jsx)(be.a,{type:"submit",variant:"primary",size:"lg",children:"\u63d0\u51fa"})})]})]})]})]})};var Ze=function(e){var t=e.history,n=e.match,s=n.params.id,r=Object(c.useState)([]),i=Object(b.a)(r,2),j=i[0],l=i[1],o=Object(c.useState)(!0),d=Object(b.a)(o,2),u=d[0],h=d[1],O=R().userInfo,x=["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],m=ze(new Date(String(j.period_start)))();return Object(c.useEffect)((function(){if(O){var e=function(){var e=Object(ne.a)(te.a.mark((function e(){var t,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,ae.a.get("/api/shifts/confirm/".concat(s,"/"),n);case 3:t=e.sent,c=t.data,l(c),h(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(O.token)}};e()}else t.push("/login")}),[O,t,n,s]),Object(B.jsxs)("div",{children:[Object(B.jsx)(Qe,{}),Object(B.jsx)("h1",{className:"p-4",children:"\u30b7\u30d5\u30c8\u78ba\u8a8d"}),u?Object(B.jsx)(ve,{}):Object(B.jsxs)("div",{className:"text-center",children:[Object(B.jsxs)("h4",{style:{borderBottom:"1px solid",display:"inline-block"},children:[m[0][6].getFullYear(),"/",m[0][6].getMonth()+1]}),Object(B.jsx)("div",{children:Object(B.jsx)(ue.a,{className:"text-center my-4",children:m.map((function(e,t){return Object(B.jsx)(a.a.Fragment,{children:e.map((function(e,t){return Object(B.jsx)(a.a.Fragment,{children:e.getMonth()===m[0][6].getMonth()&&Object(B.jsx)(he.a,{className:"my-1",xs:6,sm:6,md:4,lg:3,xl:2,children:Object(B.jsxs)(Le.a,{style:{width:"11rem",height:"10rem"},children:[Object(B.jsxs)(Le.a.Header,{children:[e.getMonth()+1," / ",e.getDate()," (",x[e.getDay()],")"]}),Object(B.jsx)(Le.a.Body,{children:j.shiftItems.map((function(t){return Object(B.jsx)("div",{children:t.date===Object(Se.a)(e,"yyyy-MM-dd")&&Object(B.jsxs)("div",{children:[Object(B.jsx)(Le.a.Title,{style:{color:"#0405B5"},children:Object(B.jsx)("b",{children:"\u51fa\u52e4"})}),Object(B.jsxs)(Le.a.Text,{children:[t.start_time.substring(0,5)," ","~"," ",t.end_time.substring(0,5)]})]})},t._id)}))})]})},t)},t)}))},t)}))})})]})]})};var $e=function(e){var t=e.history,n=Object(c.useState)([]),a=Object(b.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)(!1),j=Object(b.a)(i,2),l=j[0],o=j[1],u=Object(c.useState)(!0),h=Object(b.a)(u,2),O=h[0],x=h[1],m=R().userInfo;return Object(c.useEffect)((function(){if(window.addEventListener("popstate",(function(e){"POP"===t.action&&t.go(0)})),m&&"demo@email.com"===m.email){var e=function(){var e=Object(ne.a)(te.a.mark((function e(){var t,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,ae.a.get("/api/users/admin/getusers/",n);case 3:t=e.sent,c=t.data,r(c),o(!1),x(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(m.token)}};e()}else t.push("/login")}),[t,m,l]),Object(B.jsxs)("div",{children:[Object(B.jsx)("h1",{children:"\u30e6\u30fc\u30b6\u30fc\u7ba1\u7406"}),O?Object(B.jsx)(ve,{}):Object(B.jsxs)(ye.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"ID"}),Object(B.jsx)("th",{children:"NAME"}),Object(B.jsx)("th",{children:"EMAIL"}),Object(B.jsx)("th",{children:"ADMIN"}),Object(B.jsx)("th",{children:"EDIT/DELETE"})]})}),Object(B.jsx)("tbody",{children:s.map((function(e){return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:e._id}),Object(B.jsx)("td",{children:e.name}),Object(B.jsx)("td",{children:"***"}),Object(B.jsx)("td",{children:e.isAdmin?Object(B.jsx)("i",{className:"fas fa-check"}):Object(B.jsx)("i",{className:"fas fa-times"})}),Object(B.jsxs)("td",{children:[Object(B.jsx)(d.LinkContainer,{to:"user/".concat(e._id,"/edit"),children:Object(B.jsx)(be.a,{variant:"light",className:"btn-sm mx-2",children:Object(B.jsx)("i",{className:"fas fa-edit"})})}),Object(B.jsx)(be.a,{className:"btn-sm mx-2",disabled:!0,children:Object(B.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]}),Object(B.jsx)("div",{className:"mt-5",children:Object(B.jsx)(me,{variant:"danger",children:"Demo\u30e6\u30fc\u30b6\u30fc\u3067\u306f\u3001email\u306e\u53c2\u7167/\u30e6\u30fc\u30b6\u30fc\u306e\u7de8\u96c6\u30fb\u524a\u9664\u306f\u4e0d\u53ef\u80fd\u3002\u6a5f\u80fd\u306e\u95b2\u89a7\u306e\u307f\u3067\u304d\u307e\u3059\u3002\uff08\u7ba1\u7406\u8005\u6a29\u9650\u306a\u3057\uff09"})})]})};var et=function(e){var t=e.match,n=e.history,a=t.params.id,s=Object(c.useState)(""),r=Object(b.a)(s,2),i=r[0],j=r[1],l=Object(c.useState)(""),o=Object(b.a)(l,2),d=o[0],u=o[1],h=Object(c.useState)(!1),O=Object(b.a)(h,2),x=O[0],m=O[1],p=R().userInfo;Object(c.useEffect)((function(){i&&d||function(){var e=Object(ne.a)(te.a.mark((function e(){var t,n,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(p.token)}},e.next=3,ae.a.get("/api/users/".concat(a,"/"),t);case 3:n=e.sent,c=n.data,j(c.name),u(c.email),m(c.isAdmin);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[p,n,a]);var f=function(){var e=Object(ne.a)(te.a.mark((function e(t){var c,s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(p.token)}},e.next=4,ae.a.put("api/users/admin/updateuser/".concat(a,"/"),{name:i,email:d,isAdmin:x},c);case 4:s=e.sent,s.data,n.push("/admin/userlist");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{children:[Object(B.jsx)(je.Link,{to:"/demo/admin/userlist",className:"btn my-2",style:{background:"#999999"},children:"\uff1c \u623b\u308b"}),Object(B.jsxs)(Oe,{children:[Object(B.jsx)("h1",{children:"\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u66f4\u65b0"}),Object(B.jsxs)(de.a,{onSubmit:f,children:[Object(B.jsxs)(de.a.Group,{controlId:"name",children:[Object(B.jsx)(de.a.Label,{children:"\u30e6\u30fc\u30b6\u30fc\u540d"}),Object(B.jsx)(de.a.Control,{type:"name",placeholder:"Enter Name",required:!0,value:i,onChange:function(e){return j(e.target.value)}})]}),Object(B.jsxs)(de.a.Group,{controlId:"email",children:[Object(B.jsx)(de.a.Label,{children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\uff08\u30ed\u30b0\u30a4\u30f3ID\uff09"}),Object(B.jsx)(de.a.Control,{type:"email",placeholder:"***",required:!0})]}),Object(B.jsxs)(de.a.Group,{controlId:"idAdmin",children:[Object(B.jsx)(de.a.Label,{children:"\u203b\u7ba1\u7406\u8005\u6a29\u9650"}),Object(B.jsx)(de.a.Check,{type:"checkbox",placeholder:"Is Admin",value:x,checked:x,onChange:function(e){return m(e.target.checked)}})]}),Object(B.jsx)(be.a,{type:"submit",variant:"primary",disabled:!0,children:"\u66f4\u65b0"})]})]}),Object(B.jsxs)(Oe,{children:[Object(B.jsx)("div",{className:"mt-5",children:Object(B.jsx)(me,{variant:"danger",children:"Demo\u30e6\u30fc\u30b6\u30fc\u3067\u306f\u3001\u95b2\u89a7\u306e\u307f\u53ef\u80fd\u3002\uff08\u7ba1\u7406\u8005\u6a29\u9650\u306a\u3057\uff09"})}),Object(B.jsx)("div",{className:"mt-2",children:Object(B.jsx)(me,{variant:"info",children:"\uff08\u203b\uff09\u7ba1\u7406\u8005\u306f\u3001\u3059\u3079\u3066\u306e\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u3068\u30b7\u30d5\u30c8\u60c5\u5831\u306e\u95b2\u89a7\u30fb\u7de8\u96c6\u30fb\u524a\u9664\u304c\u53ef\u80fd\u3067\u3059\u3002 \u7ba1\u7406\u8005\u6a29\u9650\u306e\u4ed8\u4e0e\u306b\u306f\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002"})})]})]})};var tt=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1?arguments[1]:void 0;return e.getFullYear()+"-"+("0"+(e.getMonth()+1+t)).slice(-2)},t=Object(c.useState)(""),n=Object(b.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(e(new Date,0)),i=Object(b.a)(r,2),j=i[0],l=i[1],o=R().userInfo,d=Object(le.k)();return Object(c.useEffect)((function(){d.location.search&&(s(decodeURI(d.location.search.split("=")[1].split("&")[0])),l(d.location.search.split("=")[2]))}),[d.location.search]),Object(B.jsx)(de.a,{onSubmit:function(e){e.preventDefault(),a&&j?"demo@email.com"===o.email?d.push("/demo/admin/shiftlist/?section=".concat(a,"&period=").concat(j)):d.push("/admin/shiftlist/?section=".concat(a,"&period=").concat(j)):d.push(d.location.pathname)},inline:!0,className:"mb-5",children:Object(B.jsxs)(ue.a,{children:[Object(B.jsx)(he.a,{xs:12,sm:4,md:4,lg:4,xl:4,className:"mb-2",children:Object(B.jsx)(de.a.Group,{controlId:"section",children:Object(B.jsxs)(de.a.Control,{required:!0,as:"select",value:a,onChange:function(e){return s(e.target.value)},style:{cursor:"pointer"},children:[Object(B.jsx)("option",{value:"\u30d5\u30ed\u30f3\u30c8",children:"\u30d5\u30ed\u30f3\u30c8"}),Object(B.jsx)("option",{value:"\u30ad\u30c3\u30c1\u30f3",children:"\u30ad\u30c3\u30c1\u30f3"}),Object(B.jsx)("option",{value:"\u30c9\u30ea\u30f3\u30b0",children:"\u30c9\u30ea\u30f3\u30af"}),Object(B.jsx)("option",{value:"\u6620\u5199",children:"\u6620\u5199"}),Object(B.jsx)("option",{value:"\u30b3\u30f3\u30bb",children:"\u30b3\u30f3\u30bb"}),Object(B.jsx)("option",{value:"\u30dc\u30c3\u30af\u30b9",children:"\u30dc\u30c3\u30af\u30b9"}),Object(B.jsx)("option",{value:"\u30b7\u30e7\u30c3\u30d7",children:"\u30b7\u30e7\u30c3\u30d7"}),Object(B.jsx)("option",{value:"",children:"\u300c\u30bb\u30af\u30b7\u30e7\u30f3\u300d\u3092\u9078\u629e"})]})})}),Object(B.jsx)(he.a,{xs:12,sm:4,md:4,lg:4,xl:4,className:"mb-2",children:Object(B.jsx)(de.a.Group,{controlId:"period",children:Object(B.jsx)(de.a.Control,{required:!0,as:"select",value:j,onChange:function(e){return l(e.target.value)},style:{cursor:"pointer"},children:[-1,0,1].map((function(t){return Object(B.jsx)("option",{value:e(new Date,t),children:e(new Date,t)},t)}))})})}),Object(B.jsx)(he.a,{xs:6,sm:4,md:4,lg:4,xl:2,children:a&&j?Object(B.jsx)(be.a,{type:"submit",variant:"outline-success",className:"px-2",children:"\u691c\u7d22"}):Object(B.jsx)(be.a,{disabled:!0,type:"submit",variant:"outline-secondary",className:"px-2",children:"\u691c\u7d22"})})]})})};var nt=function(e){var t=e.history,n=R().userInfo,s=Object(c.useState)([]),r=Object(b.a)(s,2),i=r[0],j=r[1],l=Object(c.useState)([]),o=Object(b.a)(l,2),u=o[0],h=o[1],O=Object(c.useState)(!1),x=Object(b.a)(O,2),m=x[0],p=x[1],f=Object(c.useState)(!0),v=Object(b.a)(f,2),g=v[0],y=v[1],N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)},_=t.location.search;Object(c.useEffect)((function(){if(n&&"demo@email.com"===n.email){var e=function(){var e=Object(ne.a)(te.a.mark((function e(){var n,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,ae.a.get("/api/shifts/admin/shifts".concat(_),c);case 3:n=e.sent,a=n.data,j(a),_?a[0]?h(ze(new Date(String(a[0].period_start)))()):h(ze(new Date(t.location.search.split("period=")[1]))()):h(ze(new Date)()),y(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}};e()}else t.push("/login")}),[t,n,_,m]);var k=function(e){var t={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}};function c(){return(c=Object(ne.a)(te.a.mark((function n(){var c;return te.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ae.a.put("/api/shifts/confirmed-update/".concat(e,"/"),t);case 2:c=n.sent,c.data,p(!m);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){c.apply(this,arguments)}()};return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("h1",{children:"Shifts"}),Object(B.jsxs)(ue.a,{children:[Object(B.jsx)(he.a,{lg:6,md:6,sm:8,xs:8,className:"pt-2",children:Object(B.jsx)(tt,{})}),Object(B.jsx)(he.a,{lg:4,md:4,sm:12,children:!_&&Object(B.jsx)(me,{variant:"primary",children:"\u5168\u30b7\u30d5\u30c8\u8868\u793a\u4e2d\uff08\u30bb\u30af\u30b7\u30e7\u30f3\uff06\u671f\u9593\u3092\u9078\u629e\uff09"})}),Object(B.jsx)(he.a,{lg:2,md:2,sm:12,children:g?Object(B.jsx)(ve,{}):0===i.length&&Object(B.jsx)(me,{variant:"info",children:"\u30b7\u30d5\u30c8\u304c\u5b58\u5728\u3057\u307e\u305b\u3093"})})]}),Object(B.jsxs)(ye.a,{striped:!0,hover:!0,responsive:!0,className:"table-sm border text-center align-middle",bordered:!0,children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"USER"}),Object(B.jsx)("th",{className:"bg-dark"}),u.map((function(e,t){return Object(B.jsx)(a.a.Fragment,{children:e.map((function(e,t){return Object(B.jsx)(a.a.Fragment,{children:e.getMonth()===u[0][6].getMonth()&&Object(B.jsxs)("th",{children:[e.getMonth()+1,"/",e.getDate()]})},t)}))},t)})),Object(B.jsx)("th",{children:"Edit"}),Object(B.jsx)("th",{className:"px-4",children:"Confirm"})]})}),Object(B.jsx)("tbody",{children:i.map((function(e){return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:e.user_name?e.user_name:"\u30fc"}),Object(B.jsx)("td",{className:"bg-dark"}),u.map((function(t,n){return Object(B.jsx)(a.a.Fragment,{children:t.map((function(t,n){return Object(B.jsx)(a.a.Fragment,{children:t.getMonth()===u[0][6].getMonth()&&Object(B.jsx)("td",{children:e.shiftItems.map((function(e,n){return Object(B.jsx)(a.a.Fragment,{children:e.date===N(t)&&Object(B.jsxs)("div",{children:[e.start_time.substring(0,5),Object(B.jsx)("br",{}),e.end_time.substring(0,5)]})},n)}))})},n)}))},n)})),Object(B.jsx)("td",{children:Object(B.jsx)(d.LinkContainer,{to:"/shifts/update/".concat(e._id),children:e.is_confirmed?Object(B.jsx)(be.a,{disabled:!0,variant:"light",className:"btn-sm",children:Object(B.jsx)("i",{className:"fas fa-check"})}):Object(B.jsx)(be.a,{disabled:!0,variant:"light",className:"btn-sm",children:Object(B.jsx)("i",{className:"fas fa-edit"})})})}),Object(B.jsx)("td",{children:e.is_confirmed?Object(B.jsx)(be.a,{variant:"outline-info",className:"btn-sm ",onClick:function(){return k(e._id)},children:"\u672a\u78ba\u5b9a\u3078"}):Object(B.jsx)(be.a,{variant:"outline-danger",className:"btn-sm",onClick:function(){return k(e._id)},children:"\u78ba\u5b9a\u3055\u305b\u308b"})})]},e._id)}))})]}),Object(B.jsx)("div",{className:"mt-5",children:Object(B.jsx)(me,{variant:"danger",children:"Demo\u30e6\u30fc\u30b6\u30fc\u306f\u3001\u30b7\u30d5\u30c8\u306e\u691c\u7d22\u3068\u5185\u5bb9\u306e\u78ba\u5b9a\u304c\u3067\u304d\u307e\u3059\u3002\u30b7\u30d5\u30c8\u5185\u5bb9\u306e\u7de8\u96c6\u306f\u4e0d\u53ef\u3002\uff08\u7ba1\u7406\u8005\u6a29\u9650\u306a\u3057\uff09"})})]})};var ct=function(e){var t=e.history,n=Object(c.useState)([]),a=Object(b.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)(!1),j=Object(b.a)(i,2),l=j[0],o=j[1],u=Object(c.useState)(!0),h=Object(b.a)(u,2),O=h[0],x=h[1],m=R().userInfo;return Object(c.useEffect)((function(){if(window.addEventListener("popstate",(function(e){"POP"===t.action&&t.go(0)})),m&&m.isAdmin){var e=function(){var e=Object(ne.a)(te.a.mark((function e(){var t,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.get("/api/users/admin/getusers/",n);case 2:t=e.sent,c=t.data,r(c),o(!1),x(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();x(!0);var n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(m.token)}};e()}else t.push("/login")}),[t,m,l]),Object(B.jsxs)("div",{children:[Object(B.jsx)("h1",{children:"\u30e6\u30fc\u30b6\u30fc\u7ba1\u7406"}),O?Object(B.jsx)(ve,{}):Object(B.jsxs)(ye.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"ID"}),Object(B.jsx)("th",{children:"NAME"}),Object(B.jsx)("th",{children:"EMAIL"}),Object(B.jsx)("th",{children:"ADMIN"}),Object(B.jsx)("th",{children:"EDIT/DELETE"})]})}),Object(B.jsx)("tbody",{children:s.map((function(e){return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:e._id}),Object(B.jsx)("td",{children:e.name}),Object(B.jsx)("td",{children:e.email}),Object(B.jsx)("td",{children:e.isAdmin?Object(B.jsx)("i",{className:"fas fa-check"}):Object(B.jsx)("i",{className:"fas fa-times"})}),Object(B.jsxs)("td",{children:[Object(B.jsx)(d.LinkContainer,{to:"user/".concat(e._id,"/edit"),children:Object(B.jsx)(be.a,{variant:"light",className:"btn-sm mx-2",children:Object(B.jsx)("i",{className:"fas fa-edit"})})}),Object(B.jsx)(be.a,{className:"btn-sm mx-2",onClick:function(){return function(e){if(window.confirm("\u3053\u306e\u30e6\u30fc\u30b6\u30fc\uff08ID=".concat(e,"\uff09\u3092\u524a\u9664\u3057\u3066\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f"))){var t=function(){var t=Object(ne.a)(te.a.mark((function t(){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.delete("/api/users/admin/deleteuser/".concat(e,"/"),n);case 2:t.sent.data,o(!0);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(m.token)}};t()}}(e._id)},children:Object(B.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]})]})};var at=function(e){var t=e.match,n=e.history,a=t.params.id,s=Object(c.useState)(""),r=Object(b.a)(s,2),i=r[0],j=r[1],l=Object(c.useState)(""),o=Object(b.a)(l,2),d=o[0],u=o[1],h=Object(c.useState)(!1),O=Object(b.a)(h,2),x=O[0],m=O[1],p=R().userInfo;Object(c.useEffect)((function(){i&&d||function(){var e=Object(ne.a)(te.a.mark((function e(){var t,n,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(p.token)}},e.next=3,ae.a.get("/api/users/".concat(a,"/"),t);case 3:n=e.sent,c=n.data,j(c.name),u(c.email),m(c.isAdmin);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[p,n,a]);var f=function(){var e=Object(ne.a)(te.a.mark((function e(t){var c,s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(p.token)}},e.next=4,ae.a.put("api/users/admin/updateuser/".concat(a,"/"),{name:i,email:d,isAdmin:x},c);case 4:s=e.sent,s.data,n.push("/admin/userlist");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{children:[Object(B.jsx)(je.Link,{to:"/admin/userlist",className:"btn my-2",style:{background:"#999999"},children:"\uff1c \u623b\u308b"}),Object(B.jsxs)(Oe,{children:[Object(B.jsx)("h1",{children:"\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u66f4\u65b0"}),Object(B.jsxs)(de.a,{onSubmit:f,children:[Object(B.jsxs)(de.a.Group,{controlId:"name",children:[Object(B.jsx)(de.a.Label,{children:"\u30e6\u30fc\u30b6\u30fc\u540d"}),Object(B.jsx)(de.a.Control,{type:"name",placeholder:"Enter Name",required:!0,value:i,onChange:function(e){return j(e.target.value)}})]}),Object(B.jsxs)(de.a.Group,{controlId:"email",children:[Object(B.jsx)(de.a.Label,{children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\uff08\u30ed\u30b0\u30a4\u30f3ID\uff09"}),Object(B.jsx)(de.a.Control,{type:"email",placeholder:"Enter Email",required:!0,value:d,onChange:function(e){return u(e.target.value)}})]}),Object(B.jsxs)(de.a.Group,{controlId:"idAdmin",children:[Object(B.jsx)(de.a.Label,{children:"\u203b\u7ba1\u7406\u8005\u6a29\u9650"}),Object(B.jsx)(de.a.Check,{type:"checkbox",placeholder:"Is Admin",value:x,checked:x,onChange:function(e){return m(e.target.checked)}})]}),Object(B.jsx)(be.a,{type:"submit",variant:"primary",children:"\u66f4\u65b0"})]})]}),Object(B.jsx)(Oe,{children:Object(B.jsx)("div",{className:"mt-5",children:Object(B.jsx)(me,{variant:"info",children:"\uff08\u203b\uff09\u7ba1\u7406\u8005\u306f\u3001\u3059\u3079\u3066\u306e\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u3068\u30b7\u30d5\u30c8\u60c5\u5831\u306e\u95b2\u89a7\u30fb\u7de8\u96c6\u30fb\u524a\u9664\u304c\u53ef\u80fd\u3067\u3059\u3002 \u7ba1\u7406\u8005\u6a29\u9650\u306e\u4ed8\u4e0e\u306b\u306f\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002"})})})]})};var st=function(e){var t=e.history,n=R().userInfo,s=Object(c.useState)([]),r=Object(b.a)(s,2),i=r[0],j=r[1],l=Object(c.useState)([]),o=Object(b.a)(l,2),u=o[0],h=o[1],O=Object(c.useState)(!1),x=Object(b.a)(O,2),m=x[0],p=x[1],f=Object(c.useState)(!0),v=Object(b.a)(f,2),g=v[0],y=v[1],N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)},_=t.location.search;Object(c.useEffect)((function(){if(n&&n.isAdmin){var e=function(){var e=Object(ne.a)(te.a.mark((function e(){var n,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,ae.a.get("/api/shifts/admin/shifts".concat(_),c);case 3:n=e.sent,a=n.data,j(a),_?a[0]?h(ze(new Date(String(a[0].period_start)))()):h(ze(new Date(t.location.search.split("period=")[1]))()):h(ze(new Date)()),y(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}};e()}else t.push("/login")}),[t,n,_,m]);var k=function(e){var t={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}};function c(){return(c=Object(ne.a)(te.a.mark((function n(){var c;return te.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ae.a.put("/api/shifts/confirmed-update/".concat(e,"/"),t);case 2:c=n.sent,c.data,p(!m);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){c.apply(this,arguments)}()};return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("h1",{children:"Shifts"}),Object(B.jsxs)(ue.a,{children:[Object(B.jsx)(he.a,{lg:6,md:6,sm:8,xs:8,className:"pt-2",children:Object(B.jsx)(tt,{})}),Object(B.jsx)(he.a,{lg:4,md:4,sm:12,children:!_&&Object(B.jsx)(me,{variant:"primary",children:"\u5168\u30b7\u30d5\u30c8\u8868\u793a\u4e2d\uff08\u30bb\u30af\u30b7\u30e7\u30f3\uff06\u671f\u9593\u3092\u9078\u629e\uff09"})}),Object(B.jsx)(he.a,{lg:2,md:2,sm:12,children:g?Object(B.jsx)(ve,{}):0===i.length&&Object(B.jsx)(me,{variant:"info",children:"\u30b7\u30d5\u30c8\u304c\u5b58\u5728\u3057\u307e\u305b\u3093"})})]}),Object(B.jsxs)(ye.a,{striped:!0,hover:!0,responsive:!0,className:"table-sm border text-center align-middle",bordered:!0,children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"USER"}),Object(B.jsx)("th",{className:"bg-dark"}),u.map((function(e,t){return Object(B.jsx)(a.a.Fragment,{children:e.map((function(e,t){return Object(B.jsx)(a.a.Fragment,{children:e.getMonth()===u[0][6].getMonth()&&Object(B.jsxs)("th",{children:[e.getMonth()+1,"/",e.getDate()]})},t)}))},t)})),Object(B.jsx)("th",{children:"Edit"}),Object(B.jsx)("th",{className:"px-4",children:"Confirm"})]})}),Object(B.jsx)("tbody",{children:i.map((function(e){return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:e.user_name?e.user_name:"\u30fc"}),Object(B.jsx)("td",{className:"bg-dark"}),u.map((function(t,n){return Object(B.jsx)(a.a.Fragment,{children:t.map((function(t,n){return Object(B.jsx)(a.a.Fragment,{children:t.getMonth()===u[0][6].getMonth()&&Object(B.jsx)("td",{children:e.shiftItems.map((function(e,n){return Object(B.jsx)(a.a.Fragment,{children:e.date===N(t)&&Object(B.jsxs)("div",{children:[e.start_time.substring(0,5),Object(B.jsx)("br",{}),e.end_time.substring(0,5)]})},n)}))})},n)}))},n)})),Object(B.jsx)("td",{children:Object(B.jsx)(d.LinkContainer,{to:"/shifts/update/".concat(e._id),children:e.is_confirmed?Object(B.jsx)(be.a,{disabled:!0,variant:"light",className:"btn-sm",children:Object(B.jsx)("i",{className:"fas fa-check"})}):Object(B.jsx)(be.a,{variant:"light",className:"btn-sm",children:Object(B.jsx)("i",{className:"fas fa-edit"})})})}),Object(B.jsx)("td",{children:e.is_confirmed?Object(B.jsx)(be.a,{variant:"outline-info",className:"btn-sm ",onClick:function(){return k(e._id)},children:"\u672a\u78ba\u5b9a\u3078"}):Object(B.jsx)(be.a,{variant:"outline-danger",className:"btn-sm",onClick:function(){return k(e._id)},children:"\u78ba\u5b9a\u3055\u305b\u308b"})})]},e._id)}))})]})]})};var rt=function(){return Object(B.jsx)(je.HashRouter,{children:Object(B.jsx)(q,{children:Object(B.jsx)(X,{children:Object(B.jsxs)(J,{children:[Object(B.jsx)(ie,{}),Object(B.jsx)("main",{className:"py-3",children:Object(B.jsxs)(j.a,{children:[Object(B.jsx)(le.d,{path:"/",component:oe,exact:!0}),Object(B.jsx)(le.d,{path:"/register",component:pe}),Object(B.jsx)(le.d,{path:"/login",component:ge}),Object(B.jsx)(le.d,{path:"/shifts/confirm/:id",component:qe}),Object(B.jsx)(le.d,{path:"/profile",component:we}),Object(B.jsx)(le.d,{path:"/update/profile",component:De}),Object(B.jsx)(le.d,{path:"/shifts/test",component:Ue}),Object(B.jsx)(le.d,{path:"/update/test/:id",component:Re}),Object(B.jsx)(le.d,{path:"/shifts/update/:id",component:Pe}),Object(B.jsx)(le.d,{path:"/shifts/submit",component:Ye}),Object(B.jsx)(le.d,{path:"/demo/profile",component:We}),Object(B.jsx)(le.d,{path:"/demo/update/profile",component:Ve}),Object(B.jsx)(le.d,{path:"/demo/shift/submit",component:Ke}),Object(B.jsx)(le.d,{path:"/demo/shifts/update/:id",component:Xe}),Object(B.jsx)(le.d,{path:"/demo/shifts/confirm/:id",component:Ze}),Object(B.jsx)(le.d,{path:"/demo/admin/userlist",component:$e}),Object(B.jsx)(le.d,{path:"/demo/admin/user/:id/edit",component:et}),Object(B.jsx)(le.d,{path:"/demo/admin/shiftlist",component:nt}),Object(B.jsx)(le.d,{path:"/admin/userlist",component:ct}),Object(B.jsx)(le.d,{path:"/admin/user/:id/edit",component:at}),Object(B.jsx)(le.d,{path:"/admin/shiftlist",component:st})]})})]})})})})},it=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,151)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(B.jsx)(a.a.StrictMode,{children:Object(B.jsx)(rt,{})}),document.getElementById("root")),it()}},[[130,1,2]]]);
//# sourceMappingURL=main.9ce5ad41.chunk.js.map